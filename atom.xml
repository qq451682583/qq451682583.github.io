<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ZhiHui Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://qq451682583.github.io/"/>
  <updated>2017-07-12T10:22:47.000Z</updated>
  <id>http://qq451682583.github.io/</id>
  
  <author>
    <name>ZhiHui Lei</name>
    <email>hy04150829@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>热修复原理学习，AndFix/Tinker源码学习</title>
    <link href="http://qq451682583.github.io/2017/07/10/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%A6%E4%B9%A0%EF%BC%8CAndFix-Tinker%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/"/>
    <id>http://qq451682583.github.io/2017/07/10/热修复学习，AndFix-Tinker源码学习/</id>
    <published>2017-07-10T09:27:18.000Z</published>
    <updated>2017-07-12T10:22:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<h2 id="&#x4EE3;&#x7801;&#x4FEE;&#x590D;"><a href="#&#x4EE3;&#x7801;&#x4FEE;&#x590D;" class="headerlink" title="&#x4EE3;&#x7801;&#x4FEE;&#x590D;"></a><strong>&#x4EE3;&#x7801;&#x4FEE;&#x590D;</strong></h2><p>&#x4EE3;&#x7801;&#x4FEE;&#x590D;&#x6709;&#x4E24;&#x5927;&#x4E3B;&#x8981;&#x65B9;&#x6848;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x963F;&#x91CC;&#x7CFB;&#x7684;&#x5E95;&#x5C42;&#x66FF;&#x6362;&#x65B9;&#x6848;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x662F;&#x817E;&#x8BAF;&#x7CFB;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x65B9;&#x6848;&#x3002;</p>
<p>  &#x8FD9;&#x4E24;&#x7C7B;&#x65B9;&#x6848;&#x5404;&#x6709;&#x4F18;&#x52A3;&#xFF1A;</p>
<pre><code>- &#x5E95;&#x5C42;&#x66FF;&#x6362;&#x65B9;&#x6848;&#x9650;&#x5236;&#x9887;&#x591A;&#xFF0C;&#x4F46;&#x65F6;&#x6548;&#x6027;&#x6700;&#x597D;&#xFF0C;&#x52A0;&#x8F7D;&#x8F7B;&#x5FEB;&#xFF0C;&#x7ACB;&#x5373;&#x89C1;&#x6548;&#x3002;
- &#x7C7B;&#x52A0;&#x8F7D;&#x65B9;&#x6848;&#x65F6;&#x6548;&#x6027;&#x5DEE;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x51B7;&#x542F;&#x52A8;&#x624D;&#x80FD;&#x89C1;&#x6548;&#xFF0C;&#x4F46;&#x4FEE;&#x590D;&#x8303;&#x56F4;&#x5E7F;&#xFF0C;&#x9650;&#x5236;&#x5C11;&#x3002;
</code></pre><h3 id="&#x5E95;&#x5C42;&#x70ED;&#x66FF;&#x6362;&#x539F;&#x7406;"><a href="#&#x5E95;&#x5C42;&#x70ED;&#x66FF;&#x6362;&#x539F;&#x7406;" class="headerlink" title="&#x5E95;&#x5C42;&#x70ED;&#x66FF;&#x6362;&#x539F;&#x7406;"></a>&#x5E95;&#x5C42;&#x70ED;&#x66FF;&#x6362;&#x539F;&#x7406;</h3><p>  &#x5728;app&#x8FD0;&#x884C;&#x5230;&#x4E00;&#x534A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6240;&#x6709;&#x9700;&#x8981;&#x53D1;&#x751F;&#x53D8;&#x66F4;&#x7684;&#x5206;&#x7C7B;&#x5DF2;&#x7ECF;&#x88AB;&#x52A0;&#x8F7D;&#x8FC7;&#x4E86;&#xFF0C;&#x5728;Android&#x4E0A;&#x662F;&#x65E0;&#x6CD5;&#x5BF9;&#x4E00;&#x4E2A;&#x5206;&#x7C7B;&#x8FDB;&#x884C;&#x5378;&#x8F7D;&#x7684;&#xFF0C;Tinker&#x662F;&#x8BA9;Classloader&#x53BB;&#x52A0;&#x8F7D;&#x65B0;&#x7684;&#x7C7B;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x91CD;&#x542F;&#xFF0C;&#x539F;&#x6765;&#x7684;&#x7C7B;&#x8FD8;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#xFF0C;&#x5C31;&#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#x65B0;&#x7C7B;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x4E0B;&#x6B21;&#x91CD;&#x542F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5728;&#x8FD8;&#x6CA1;&#x8D70;&#x5230;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4E4B;&#x524D;&#x62A2;&#x5148;&#x52A0;&#x8F7D;&#x8865;&#x4E01;&#x4E2D;&#x7684;&#x65B0;&#x7C7B;&#xFF0C;&#x8FD9;&#x6837;&#x540E;&#x7EED;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;&#x7C7B;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;Resolve&#x3002;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x70ED;&#x4FEE;&#x590D;&#x7684;&#x76EE;&#x7684;&#x3002;</p>
<p>  Andfix&#x91C7;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#xFF0C;&#x5728;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x4E86;&#x7684;&#x7C7B;&#x4E2D;&#x76F4;&#x63A5;&#x5728;native&#x5C42;&#x66FF;&#x6362;&#x6389;&#x539F;&#x6709;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5B9E;&#x5728;&#x539F;&#x6765;&#x7C7B;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x7684;&#x3002;</p>
<p>  &#x5176;&#x6838;&#x5FC3;&#x5728;&#x4E8E;replaceMethod &#x51FD;&#x6570;<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@Andfix/src/com/alipay/euler/andfix/AndFix.java</div><div class="line"></div><div class="line">private static native void replaceMethod(Method src,Method dest);</div></pre></td></tr></table></figure></p>
<p>  &#x8FD9;&#x662F;&#x4E00;&#x4E2A;native&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x7684;&#x53C2;&#x6570;&#x5B9E;&#x5728;java&#x5C42;&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x673A;&#x5236;&#x5F97;&#x5230;&#x7684;Method&#x5BF9;&#x8C61;&#x6240;&#x5BF9;&#x5E94;&#x7684;jobject&#x3002;src&#x5BF9;&#x5E94;&#x7684;&#x662F;&#x9700;&#x8981;&#x88AB;&#x66FF;&#x6362;&#x7684;&#x539F;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;dest&#x5BF9;&#x5E94;&#x7684;&#x5C31;&#x662F;&#x65B0;&#x65B9;&#x6CD5;&#xFF0C;&#x65B0;&#x65B9;&#x6CD5;&#x5B58;&#x5728;&#x4E8E;&#x8865;&#x4E01;&#x5305;&#x7684;&#x65B0;&#x7C7B;&#x4E2D;&#xFF0C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8865;&#x4E01;&#x65B9;&#x6CD5;&#x3002;<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">@AndFix/jni/andfix.cpp</div><div class="line"></div><div class="line">static void replaceMethod(JNIEnv* env,jclass clazz,jobject src , jobject dest){</div><div class="line"></div><div class="line">  if(isArt){</div><div class="line">    art_replaceMethod(env,src,dest);</div><div class="line">  }else {</div><div class="line">    dalvik_replaceMethod(env,src,dest);</div><div class="line">  }</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure></p>
<h3 id="&#x7A81;&#x7834;&#x5E95;&#x5C42;&#x7ED3;&#x6784;&#x5DEE;&#x5F02;"><a href="#&#x7A81;&#x7834;&#x5E95;&#x5C42;&#x7ED3;&#x6784;&#x5DEE;&#x5F02;" class="headerlink" title="&#x7A81;&#x7834;&#x5E95;&#x5C42;&#x7ED3;&#x6784;&#x5DEE;&#x5F02;"></a>&#x7A81;&#x7834;&#x5E95;&#x5C42;&#x7ED3;&#x6784;&#x5DEE;&#x5F02;</h3><p>&#x4F20;&#x7EDF;&#x7684;native&#x5C42;&#x9762;&#x66FF;&#x6362;&#x601D;&#x8DEF;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x66FF;&#x6362;ArtMethod&#x7684;&#x6240;&#x6709;&#x6210;&#x5458;&#xFF0C;&#x4E3A;&#x4E86;&#x89C4;&#x907F;&#x5404;&#x79CD;&#x517C;&#x5BB9;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x5404;&#x5927;&#x5382;&#x5546;&#x5BF9;ArtMethod&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x4E4B;&#x540E;&#x6F14;&#x8FDB;&#x51FA;&#x4E00;&#x79CD;&#x66F4;&#x597D;&#x7684;&#x529E;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x6784;&#x9020;&#x51FA;ArtMethod&#x5177;&#x4F53;&#x7684;&#x5404;&#x4E2A;&#x6210;&#x5458;&#x5B57;&#x6BB5;&#xFF0C;&#x53EA;&#x8981;&#x628A;ArtMethod&#x7684;&#x4F5C;&#x4E3A;&#x6574;&#x4F53;&#x8FDB;&#x884C;&#x66FF;&#x6362;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86; &#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//&#x53EF;&#x4EE5;&#x6D53;&#x7F29;&#x4E3A;&#xFF1A;</div><div class="line">memcpy(smeth,dmeth,sizeof(ArtMethod));</div></pre></td></tr></table></figure>
<h2 id="Tinker"><a href="#Tinker" class="headerlink" title="Tinker"></a><strong>Tinker</strong></h2><p>tinker&#x5C06;old.apk&#x548C;new.apk&#x505A;&#x4E86;diff&#xFF0C;&#x62FF;&#x5230;patch.dex&#xFF0C;&#x7136;&#x540E;&#x5C06;patch.dex&#x4E0E;&#x672C;&#x673A;&#x4E2D;apk&#x7684;classes.dex&#x505A;&#x4E86;&#x5408;&#x5E76;&#xFF0C;&#x751F;&#x6210;&#x65B0;&#x7684;classes.dex&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x5C06;&#x5408;&#x5E76;&#x540E;&#x7684;dex&#x6587;&#x4EF6;&#x653E;&#x7F6E;&#x5728;&#x52A0;&#x8F7D;&#x7684;dexElements&#x6570;&#x7EC4;&#x7684;&#x524D;&#x9762;&#x3002;</p>
<p>&#x8FD0;&#x884C;&#x65F6;&#x66FF;&#x4EE3;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x5176;&#x5B9E;&#x548C;Qzone&#x7684;&#x65B9;&#x6848;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x90FD;&#x662F;&#x53BB;&#x53CD;&#x5C04;&#x4FEE;&#x6539;dexElements&#x3002;</p>
<p>&#x4E24;&#x8005;&#x7684;&#x5DEE;&#x5F02;&#x662F;&#xFF1A;Qzone&#x662F;&#x76F4;&#x63A5;&#x5C06;patch.dex&#x63D2;&#x5230;&#x6570;&#x7EC4;&#x7684;&#x524D;&#x9762;&#xFF1B;&#x800C;tinker&#x662F;&#x5C06;patch.dex&#x4E0E;app&#x4E2D;&#x7684;classes.dex&#x5408;&#x5E76;&#x540E;&#x7684;&#x5168;&#x91CF;dex&#x63D2;&#x5728;&#x6570;&#x7EC4;&#x7684;&#x524D;&#x9762;&#x3002;</p>
<p>tinker&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x76EE;&#x7684;&#x8FD8;&#x662F;&#x56E0;&#x4E3A;Qzone&#x65B9;&#x6848;&#x4E2D;&#x63D0;&#x5230;&#x7684;CLASS_ISPREVERIFIED&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5B58;&#x5728;&#x95EE;&#x9898;&#xFF1B;&#x800C;tinker&#x76F8;&#x5F53;&#x4E8E;&#x6362;&#x4E2A;&#x601D;&#x8DEF;&#x89E3;&#x51B3;&#x4E86;&#x8BE5;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x4ECE;&#x4EE3;&#x7801;&#x4E2D;&#x53BB;&#x9A8C;&#x8BC1;&#x8BE5;&#x539F;&#x7406;&#x3002;</p>
<p>&#x672C;&#x7247;&#x6587;&#x7AE0;&#x6E90;&#x7801;&#x5206;&#x6790;&#x7684;&#x4E24;&#x6761;&#x7EBF;&#xFF1A;</p>
<ul>
<li>&#x5E94;&#x7528;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4ECE;&#x9ED8;&#x8BA4;&#x76EE;&#x5F55;&#x52A0;&#x8F7D;&#x5408;&#x5E76;&#x540E;&#x7684;classes.dex</li>
<li>patch&#x4E0B;&#x53D1;&#x540E;&#xFF0C;&#x5408;&#x6210;classes.dex&#x81F3;&#x76EE;&#x6807;&#x76EE;&#x5F55;</li>
</ul>
<h3 id="&#x6E90;&#x7801;&#x5206;&#x6790;"><a href="#&#x6E90;&#x7801;&#x5206;&#x6790;" class="headerlink" title="&#x6E90;&#x7801;&#x5206;&#x6790;"></a>&#x6E90;&#x7801;&#x5206;&#x6790;</h3><h4 id="&#x52A0;&#x8F7D;path"><a href="#&#x52A0;&#x8F7D;path" class="headerlink" title="&#x52A0;&#x8F7D;path"></a>&#x52A0;&#x8F7D;path</h4><p>&#x52A0;&#x8F7D;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x9645;&#x4E0A;&#x5728;&#x751F;&#x6210;&#x7684;Application&#x4E2D;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x5176;&#x7236;&#x7C7B;&#x4E3A;TinkerApplication&#xFF0C;&#x5728;&#x5176;attachBaseContext&#x4E2D;&#x8F97;&#x8F6C;&#x4F1A;&#x8C03;&#x7528;&#x5230;loadTinker()&#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x8BE5;&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#xFF0C;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x4E86;TinkerLoader&#x7684;tryLoad&#x65B9;&#x6CD5;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">public Intent tryLoad(TinkerApplication app, int tinkerFlag, boolean tinkerLoadVerifyFlag) {</div><div class="line">    Intent resultIntent = new Intent();</div><div class="line"></div><div class="line">    long begin = SystemClock.elapsedRealtime();</div><div class="line">    tryLoadPatchFilesInternal(app, tinkerFlag, tinkerLoadVerifyFlag, resultIntent);</div><div class="line">    long cost = SystemClock.elapsedRealtime() - begin;</div><div class="line">    ShareIntentUtil.setIntentPatchCostTime(resultIntent, cost);</div><div class="line">    return resultIntent;</div><div class="line">}</div></pre></td></tr></table></figure>
<p>tryLoadPatchFilesInternal&#x4E2D;&#x4F1A;&#x8C03;&#x7528;&#x5230;loadTinkerJars&#x65B9;&#x6CD5;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">private void tryLoadPatchFilesInternal(TinkerApplication app, int tinkerFlag, boolean tinkerLoadVerifyFlag, Intent resultIntent) {</div><div class="line">    // &#x7701;&#x7565;&#x5927;&#x91CF;&#x5B89;&#x5168;&#x6027;&#x6821;&#x9A8C;&#x4EE3;&#x7801;</div><div class="line"></div><div class="line">    if (isEnabledForDex) {</div><div class="line">        //tinker/patch.info/patch-641e634c/dex</div><div class="line">        boolean dexCheck = TinkerDexLoader.checkComplete(patchVersionDirectory, securityCheck, resultIntent);</div><div class="line">        if (!dexCheck) {</div><div class="line">            //file not found, do not load patch</div><div class="line">            Log.w(TAG, &quot;tryLoadPatchFiles:dex check fail&quot;);</div><div class="line">            return;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    //now we can load patch jar</div><div class="line">    if (isEnabledForDex) {</div><div class="line">        boolean loadTinkerJars = TinkerDexLoader.loadTinkerJars(app, tinkerLoadVerifyFlag, patchVersionDirectory, resultIntent, isSystemOTA);</div><div class="line">        if (!loadTinkerJars) {</div><div class="line">            Log.w(TAG, &quot;tryLoadPatchFiles:onPatchLoadDexesFail&quot;);</div><div class="line">            return;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>TinkerDexLoader.checkComplete&#x4E3B;&#x8981;&#x662F;&#x7528;&#x4E8E;&#x68C0;&#x67E5;&#x4E0B;&#x53D1;&#x7684;meta&#x6587;&#x4EF6;&#x4E2D;&#x8BB0;&#x5F55;&#x7684;dex&#x4FE1;&#x606F;&#xFF08;meta&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x751F;&#x6210;patch&#x7684;&#x4EA7;&#x7269;&#xFF0C;&#x5728;assets/dex-meta.txt&#xFF09;&#xFF0C;&#x68C0;&#x67E5;meta&#x6587;&#x4EF6;&#x4E2D;&#x8BB0;&#x5F55;&#x7684;dex&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x5BF9;&#x5E94;&#x7684;dex&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5E76;&#x628A;&#x503C;&#x5B58;&#x5728;TinkerDexLoader&#x7684;&#x9759;&#x6001;&#x53D8;&#x91CF;dexList&#x4E2D;&#x3002;</p>
<p>TinkerDexLoader.loadTinkerJars&#x4F20;&#x5165;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x4E3A;application&#xFF0C;tinkerLoadVerifyFlag&#xFF08;&#x6CE8;&#x89E3;&#x4E0A;&#x58F0;&#x660E;&#x7684;&#x503C;&#xFF0C;&#x4F20;&#x5165;&#x4E3A;false&#xFF09;&#xFF0C;patchVersionDirectory&#x5F53;&#x524D;version&#x7684;patch&#x6587;&#x4EF6;&#x5939;&#xFF0C;intent&#xFF0C;&#x5F53;&#x524D;patch&#x662F;&#x5426;&#x4EC5;&#x9002;&#x7528;&#x4E8E;art&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)</div><div class="line">public static boolean loadTinkerJars(Application application, boolean tinkerLoadVerifyFlag,</div><div class="line">    String directory, Intent intentResult, boolean isSystemOTA) {</div><div class="line">        PathClassLoader classLoader = (PathClassLoader) TinkerDexLoader.class.getClassLoader();</div><div class="line"></div><div class="line">        String dexPath = directory + &quot;/&quot; + DEX_PATH + &quot;/&quot;;</div><div class="line">        File optimizeDir = new File(directory + &quot;/&quot; + DEX_OPTIMIZE_PATH);</div><div class="line"></div><div class="line">        ArrayList&lt;File&gt; legalFiles = new ArrayList&lt;&gt;();</div><div class="line"></div><div class="line">        final boolean isArtPlatForm = ShareTinkerInternals.isVmArt();</div><div class="line">        for (ShareDexDiffPatchInfo info : dexList) {</div><div class="line">            //for dalvik, ignore art support dex</div><div class="line">            if (isJustArtSupportDex(info)) {</div><div class="line">                continue;</div><div class="line">            }</div><div class="line">            String path = dexPath + info.realName;</div><div class="line">            File file = new File(path);</div><div class="line"></div><div class="line">            legalFiles.add(file);</div><div class="line">        }</div><div class="line">        // just for art</div><div class="line">        if (isSystemOTA) {</div><div class="line">            parallelOTAResult = true;</div><div class="line">            parallelOTAThrowable = null;</div><div class="line">            Log.w(TAG, &quot;systemOTA, try parallel oat dexes!!!!!&quot;);</div><div class="line"></div><div class="line">            TinkerParallelDexOptimizer.optimizeAll(</div><div class="line">                legalFiles, optimizeDir,</div><div class="line">                new TinkerParallelDexOptimizer.ResultCallback() {</div><div class="line">                }</div><div class="line">            );</div><div class="line"></div><div class="line">        SystemClassLoaderAdder.installDexes(application, classLoader, optimizeDir, legalFiles);</div><div class="line">        return true;</div><div class="line">    }</div></pre></td></tr></table></figure>
<p>&#x627E;&#x51FA;&#x4EC5;&#x652F;&#x6301;art&#x7684;dex&#xFF0C;&#x4E14;&#x5F53;&#x524D;patch&#x662F;&#x5426;&#x4EC5;&#x9002;&#x7528;&#x4E8E;art&#x65F6;&#xFF0C;&#x5E76;&#x884C;&#x53BB;loadDex&#x3002;</p>
<p>&#x5173;&#x952E;&#x662F;&#x6700;&#x540E;&#x7684;installDexes&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">@SuppressLint(&quot;NewApi&quot;)</div><div class="line">public static void installDexes(Application application, PathClassLoader loader, File dexOptDir, List&lt;File&gt; files)</div><div class="line">    throws Throwable {</div><div class="line"></div><div class="line">    if (!files.isEmpty()) {</div><div class="line">        ClassLoader classLoader = loader;</div><div class="line">        if (Build.VERSION.SDK_INT &gt;= 24) {</div><div class="line">            classLoader = AndroidNClassLoader.inject(loader, application);</div><div class="line">        }</div><div class="line">        //because in dalvik, if inner class is not the same classloader with it wrapper class.</div><div class="line">        //it won&apos;t fail at dex2opt</div><div class="line">        if (Build.VERSION.SDK_INT &gt;= 23) {</div><div class="line">            V23.install(classLoader, files, dexOptDir);</div><div class="line">        } else if (Build.VERSION.SDK_INT &gt;= 19) {</div><div class="line">            V19.install(classLoader, files, dexOptDir);</div><div class="line">        } else if (Build.VERSION.SDK_INT &gt;= 14) {</div><div class="line">            V14.install(classLoader, files, dexOptDir);</div><div class="line">        } else {</div><div class="line">            V4.install(classLoader, files, dexOptDir);</div><div class="line">        }</div><div class="line">        //install done</div><div class="line">        sPatchDexCount = files.size();</div><div class="line">        Log.i(TAG, &quot;after loaded classloader: &quot; + classLoader + &quot;, dex size:&quot; + sPatchDexCount);</div><div class="line"></div><div class="line">        if (!checkDexInstall(classLoader)) {</div><div class="line">            //reset patch dex</div><div class="line">            SystemClassLoaderAdder.uninstallPatchDex(classLoader);</div><div class="line">            throw new TinkerRuntimeException(ShareConstants.CHECK_DEX_INSTALL_FAIL);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x91CC;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#xFF0C;&#x53BB;&#x53CD;&#x5C04;&#x5904;&#x7406;dexElements&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;V19&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">private static final class V19 {</div><div class="line"></div><div class="line">    private static void install(ClassLoader loader, List&lt;File&gt; additionalClassPathEntries,</div><div class="line">                                File optimizedDirectory)</div><div class="line">        throws IllegalArgumentException, IllegalAccessException,</div><div class="line">        NoSuchFieldException, InvocationTargetException, NoSuchMethodException, IOException {</div><div class="line"></div><div class="line">        Field pathListField = ShareReflectUtil.findField(loader, &quot;pathList&quot;);</div><div class="line">        Object dexPathList = pathListField.get(loader);</div><div class="line">        ArrayList&lt;IOException&gt; suppressedExceptions = new ArrayList&lt;IOException&gt;();</div><div class="line">        ShareReflectUtil.expandFieldArray(dexPathList, &quot;dexElements&quot;, makeDexElements(dexPathList,</div><div class="line">            new ArrayList&lt;File&gt;(additionalClassPathEntries), optimizedDirectory,</div><div class="line">            suppressedExceptions));</div><div class="line">        if (suppressedExceptions.size() &gt; 0) {</div><div class="line">            for (IOException e : suppressedExceptions) {</div><div class="line">                Log.w(TAG, &quot;Exception in makeDexElement&quot;, e);</div><div class="line">                throw e;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>
<ol>
<li>&#x627E;&#x5230;PathClassLoader&#xFF08;BaseDexClassLoader&#xFF09;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;pathList&#x5BF9;&#x8C61;</li>
<li>&#x6839;&#x636E;pathList&#x5BF9;&#x8C61;&#x627E;&#x5230;&#x5176;&#x4E2D;&#x7684;makeDexElements&#x65B9;&#x6CD5;&#xFF0C;&#x4F20;&#x5165;patch&#x76F8;&#x5173;&#x7684;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x53C2;&#xFF0C;&#x8FD4;&#x56DE;Element[]&#x5BF9;&#x8C61;</li>
<li>&#x62FF;&#x5230;pathList&#x5BF9;&#x8C61;&#x4E2D;&#x539F;&#x672C;&#x7684;dexElements&#x65B9;&#x6CD5;</li>
<li>&#x6B65;&#x9AA4;2&#x4E0E;&#x6B65;&#x9AA4;3&#x4E2D;&#x7684;Element[]&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#xFF0C;&#x5C06;patch&#x76F8;&#x5173;&#x7684;dex&#x653E;&#x5728;&#x6570;&#x7EC4;&#x7684;&#x524D;&#x9762;</li>
<li>&#x6700;&#x540E;&#x5C06;&#x5408;&#x5E76;&#x540E;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x8BBE;&#x7F6E;&#x7ED9;pathList</li>
</ol>
<h4 id="&#x5408;&#x6210;path"><a href="#&#x5408;&#x6210;path" class="headerlink" title="&#x5408;&#x6210;path"></a>&#x5408;&#x6210;path</h4><p>&#x8FD9;&#x91CC;&#x7684;&#x5165;&#x53E3;&#x4E3A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">TinkerInstaller.onReceiveUpgradePatch(getApplicationContext(),</div><div class="line">                Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/patch_signed.apk&quot;);</div></pre></td></tr></table></figure>
<p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x4F1A;&#x8C03;&#x7528;DefaultPatchListener&#x4E2D;&#x7684;onPatchReceived&#x65B9;&#x6CD5;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"># DefaultPatchListener</div><div class="line">@Override</div><div class="line">public int onPatchReceived(String path) {</div><div class="line"></div><div class="line">    int returnCode = patchCheck(path);</div><div class="line"></div><div class="line">    if (returnCode == ShareConstants.ERROR_PATCH_OK) {</div><div class="line">        TinkerPatchService.runPatchService(context, path);</div><div class="line">    } else {</div><div class="line">        Tinker.with(context).getLoadReporter().onLoadPatchListenerReceiveFail(new File(path), returnCode);</div><div class="line">    }</div><div class="line">    return returnCode;</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x9996;&#x5148;&#x5BF9;tinker&#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#xFF08;isEnable&#xFF09;&#x4EE5;&#x53CA;patch&#x7684;&#x5408;&#x6CD5;&#x6027;&#x8FDB;&#x884C;&#x68C0;&#x6D4B;&#xFF0C;&#x5982;&#x679C;&#x5408;&#x6CD5;&#xFF0C;&#x5219;&#x8C03;&#x7528;TinkerPatchService.runPatchService(context, path);&#x3002;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">public static void runPatchService(Context context, String path) {</div><div class="line">    try {</div><div class="line">        Intent intent = new Intent(context, TinkerPatchService.class);</div><div class="line">        intent.putExtra(PATCH_PATH_EXTRA, path);</div><div class="line">        intent.putExtra(RESULT_CLASS_EXTRA, resultServiceClass.getName());</div><div class="line">        context.startService(intent);</div><div class="line">    } catch (Throwable throwable) {</div><div class="line">        TinkerLog.e(TAG, &quot;start patch service fail, exception:&quot; + throwable);</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>TinkerPatchService&#x662F;IntentService&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x8FD9;&#x91CC;&#x901A;&#x8FC7;intent&#x8BBE;&#x7F6E;&#x4E86;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;patch&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;resultServiceClass&#xFF0C;&#x8BE5;&#x503C;&#x662F;&#x8C03;&#x7528;Tinker.install&#x7684;&#x65F6;&#x5019;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;DefaultTinkerResultService.class&#x3002;&#x7531;&#x4E8E;&#x662F;IntentService&#xFF0C;&#x76F4;&#x63A5;&#x770B;onHandleIntent&#x5373;&#x53EF;.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">protected void onHandleIntent(Intent intent) {</div><div class="line">    final Context context = getApplicationContext();</div><div class="line">    Tinker tinker = Tinker.with(context);</div><div class="line"></div><div class="line"></div><div class="line">    String path = getPatchPathExtra(intent);</div><div class="line"></div><div class="line">    File patchFile = new File(path);</div><div class="line"></div><div class="line">    boolean result;</div><div class="line"></div><div class="line">    increasingPriority();</div><div class="line">    PatchResult patchResult = new PatchResult();</div><div class="line"></div><div class="line">    result = upgradePatchProcessor.tryPatch(context, path, patchResult);</div><div class="line"></div><div class="line">    patchResult.isSuccess = result;</div><div class="line">    patchResult.rawPatchFilePath = path;</div><div class="line">    patchResult.costTime = cost;</div><div class="line">    patchResult.e = e;</div><div class="line"></div><div class="line">    AbstractResultService.runResultService(context, patchResult, getPatchResultExtra(intent));</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x6BD4;&#x8F83;&#x6E05;&#x6670;&#xFF0C;&#x4E3B;&#x8981;&#x5173;&#x6CE8;upgradePatchProcessor.tryPatch&#x65B9;&#x6CD5;&#xFF0C;&#x8C03;&#x7528;&#x7684;&#x662F;UpgradePatch.tryPatch&#x3002;ps:&#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x6709;&#x610F;&#x601D;&#x7684;&#x5730;&#x65B9;increasingPriority()&#xFF0C;&#x5176;&#x5185;&#x90E8;&#x5B9E;&#x73B0;&#x4E3A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">private void increasingPriority() {</div><div class="line">    TinkerLog.i(TAG, &quot;try to increase patch process priority&quot;);</div><div class="line">    try {</div><div class="line">        Notification notification = new Notification();</div><div class="line">        if (Build.VERSION.SDK_INT &lt; 18) {</div><div class="line">            startForeground(notificationId, notification);</div><div class="line">        } else {</div><div class="line">            startForeground(notificationId, notification);</div><div class="line">            // start InnerService</div><div class="line">            startService(new Intent(this, InnerService.class));</div><div class="line">        }</div><div class="line">    } catch (Throwable e) {</div><div class="line">        TinkerLog.i(TAG, &quot;try to increase patch process priority error:&quot; + e);</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;&#x4F60;&#x5BF9;&#x201C;&#x4FDD;&#x6D3B;&#x201D;&#x8FD9;&#x4E2A;&#x8BDD;&#x9898;&#x6BD4;&#x8F83;&#x5173;&#x6CE8;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4E00;&#x5B9A;&#x4E0D;&#x964C;&#x751F;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x5229;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x4E2A;&#x6F0F;&#x6D1E;&#x6765;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x524D;&#x53F0;Service&#x3002;&#x5982;&#x679C;&#x6709;&#x5174;&#x8DA3;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6B64;&#x6587;&#xFF1A;<a href="http://www.jianshu.com/p/63aafe3c12af" target="_blank" rel="external">&#x5173;&#x4E8E; Android &#x8FDB;&#x7A0B;&#x4FDD;&#x6D3B;&#xFF0C;&#x4F60;&#x6240;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7684;&#x4E00;&#x5207;&#x3002;</a></p>
<p>&#x4E0B;&#x9762;&#x7EE7;&#x7EED;&#x56DE;&#x5230;tryPatch&#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"># UpgradePatch</div><div class="line">@Override</div><div class="line">public boolean tryPatch(Context context, String tempPatchPath, PatchResult patchResult) {</div><div class="line">    Tinker manager = Tinker.with(context);</div><div class="line"></div><div class="line">    final File patchFile = new File(tempPatchPath);</div><div class="line"></div><div class="line">    //it is a new patch, so we should not find a exist</div><div class="line">    SharePatchInfo oldInfo = manager.getTinkerLoadResultIfPresent().patchInfo;</div><div class="line">    String patchMd5 = SharePatchFileUtil.getMD5(patchFile);</div><div class="line"></div><div class="line">    //use md5 as version</div><div class="line">    patchResult.patchVersion = patchMd5;</div><div class="line">    SharePatchInfo newInfo;</div><div class="line"></div><div class="line">    //already have patch</div><div class="line">    if (oldInfo != null) {</div><div class="line">        newInfo = new SharePatchInfo(oldInfo.oldVersion, patchMd5, Build.FINGERPRINT);</div><div class="line">    } else {</div><div class="line">        newInfo = new SharePatchInfo(&quot;&quot;, patchMd5, Build.FINGERPRINT);</div><div class="line">    }</div><div class="line"></div><div class="line">    //check ok, we can real recover a new patch</div><div class="line">    final String patchDirectory = manager.getPatchDirectory().getAbsolutePath();</div><div class="line">    final String patchName = SharePatchFileUtil.getPatchVersionDirectory(patchMd5);</div><div class="line">    final String patchVersionDirectory = patchDirectory + &quot;/&quot; + patchName;</div><div class="line"></div><div class="line">    //copy file</div><div class="line">    File destPatchFile = new File(patchVersionDirectory + &quot;/&quot; + SharePatchFileUtil.getPatchVersionFile(patchMd5));</div><div class="line">    // check md5 first</div><div class="line">    if (!patchMd5.equals(SharePatchFileUtil.getMD5(destPatchFile))) {</div><div class="line">        SharePatchFileUtil.copyFileUsingStream(patchFile, destPatchFile);</div><div class="line">    }</div><div class="line"></div><div class="line">    //we use destPatchFile instead of patchFile, because patchFile may be deleted during the patch process</div><div class="line">    if (!DexDiffPatchInternal.tryRecoverDexFiles(manager, signatureCheck, context, patchVersionDirectory,</div><div class="line">                destPatchFile)) {</div><div class="line">        TinkerLog.e(TAG, &quot;UpgradePatch tryPatch:new patch recover, try patch dex failed&quot;);</div><div class="line">        return false;</div><div class="line">    }</div><div class="line"></div><div class="line">    return true;</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x62F7;&#x8D1D;patch&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x81F3;&#x79C1;&#x6709;&#x76EE;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;DexDiffPatchInternal.tryRecoverDexFiles&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">protected static boolean tryRecoverDexFiles(Tinker manager, ShareSecurityCheck checker, Context context,</div><div class="line">                                                String patchVersionDirectory, File patchFile) {</div><div class="line">    String dexMeta = checker.getMetaContentMap().get(DEX_META_FILE);</div><div class="line">    boolean result = patchDexExtractViaDexDiff(context, patchVersionDirectory, dexMeta, patchFile);</div><div class="line">    return result;</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>&#x76F4;&#x63A5;&#x770B;patchDexExtractViaDexDiff<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">private static boolean patchDexExtractViaDexDiff(Context context, String patchVersionDirectory, String meta, final File patchFile) {</div><div class="line">    String dir = patchVersionDirectory + &quot;/&quot; + DEX_PATH + &quot;/&quot;;</div><div class="line"></div><div class="line">    if (!extractDexDiffInternals(context, dir, meta, patchFile, TYPE_DEX)) {</div><div class="line">        TinkerLog.w(TAG, &quot;patch recover, extractDiffInternals fail&quot;);</div><div class="line">        return false;</div><div class="line">    }</div><div class="line"></div><div class="line">    final Tinker manager = Tinker.with(context);</div><div class="line"></div><div class="line">    File dexFiles = new File(dir);</div><div class="line">    File[] files = dexFiles.listFiles();</div><div class="line"></div><div class="line">    ...files&#x904D;&#x5386;&#x6267;&#x884C;&#xFF1A;DexFile.loadDex</div><div class="line">     return true;</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x4E3B;&#x8981;&#x5728;extractDexDiffInternals&#x4E2D;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">private static boolean extractDexDiffInternals(Context context, String dir, String meta, File patchFile, int type) {</div><div class="line">    //parse meta</div><div class="line">    ArrayList&lt;ShareDexDiffPatchInfo&gt; patchList = new ArrayList&lt;&gt;();</div><div class="line">    ShareDexDiffPatchInfo.parseDexDiffPatchInfo(meta, patchList);</div><div class="line"></div><div class="line">    File directory = new File(dir);</div><div class="line">    //I think it is better to extract the raw files from apk</div><div class="line">    Tinker manager = Tinker.with(context);</div><div class="line">    ZipFile apk = null;</div><div class="line">    ZipFile patch = null;</div><div class="line"></div><div class="line">    ApplicationInfo applicationInfo = context.getApplicationInfo();</div><div class="line"></div><div class="line">    String apkPath = applicationInfo.sourceDir; //base.apk</div><div class="line">    apk = new ZipFile(apkPath);</div><div class="line">    patch = new ZipFile(patchFile);</div><div class="line"></div><div class="line">    for (ShareDexDiffPatchInfo info : patchList) {</div><div class="line"></div><div class="line">        final String infoPath = info.path;</div><div class="line">        String patchRealPath;</div><div class="line">        if (infoPath.equals(&quot;&quot;)) {</div><div class="line">            patchRealPath = info.rawName;</div><div class="line">        } else {</div><div class="line">            patchRealPath = info.path + &quot;/&quot; + info.rawName;</div><div class="line">        }</div><div class="line"></div><div class="line">        File extractedFile = new File(dir + info.realName);</div><div class="line"></div><div class="line">        ZipEntry patchFileEntry = patch.getEntry(patchRealPath);</div><div class="line">        ZipEntry rawApkFileEntry = apk.getEntry(patchRealPath);</div><div class="line"></div><div class="line">        patchDexFile(apk, patch, rawApkFileEntry, patchFileEntry, info, extractedFile);</div><div class="line">    }</div><div class="line"></div><div class="line">    return true;</div><div class="line">}</div></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x91CC;&#x7684;&#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x5173;&#x952E;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x9996;&#x5148;&#x89E3;&#x6790;&#x4E86;meta&#x91CC;&#x9762;&#x7684;&#x4FE1;&#x606F;&#xFF0C;meta&#x4E2D;&#x5305;&#x542B;&#x4E86;patch&#x4E2D;&#x6BCF;&#x4E2A;dex&#x7684;&#x76F8;&#x5173;&#x6570;&#x636E;&#x3002;&#x7136;&#x540E;&#x901A;&#x8FC7;Application&#x62FF;&#x5230;sourceDir&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x672C;&#x673A;apk&#x7684;&#x8DEF;&#x5F84;&#x4EE5;&#x53CA;patch&#x6587;&#x4EF6;&#xFF1B;&#x6839;&#x636E;mate&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x5F00;&#x59CB;&#x904D;&#x5386;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x53D6;&#x51FA;&#x5BF9;&#x5E94;&#x7684;dex&#x6587;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x901A;&#x8FC7;patchDexFile&#x5BF9;&#x4E24;&#x4E2A;dex&#x6587;&#x4EF6;&#x505A;&#x5408;&#x5E76;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">private static void patchDexFile(</div><div class="line">            ZipFile baseApk, ZipFile patchPkg, ZipEntry oldDexEntry, ZipEntry patchFileEntry,</div><div class="line">            ShareDexDiffPatchInfo patchInfo,  File patchedDexFile) throws IOException {</div><div class="line">    InputStream oldDexStream = null;</div><div class="line">    InputStream patchFileStream = null;</div><div class="line"></div><div class="line">    oldDexStream = new BufferedInputStream(baseApk.getInputStream(oldDexEntry));</div><div class="line">    patchFileStream = (patchFileEntry != null ? new BufferedInputStream(patchPkg.getInputStream(patchFileEntry)) : null);</div><div class="line"></div><div class="line">    new DexPatchApplier(oldDexStream, patchFileStream).executeAndSaveTo(patchedDexFile);</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x901A;&#x8FC7;ZipFile&#x62FF;&#x5230;&#x5176;&#x5185;&#x90E8;&#x6587;&#x4EF6;&#x7684;InputStream&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8BFB;&#x53D6;&#x672C;&#x5730;apk&#x5BF9;&#x5E94;&#x7684;dex&#x6587;&#x4EF6;&#xFF0C;&#x4EE5;&#x53CA;patch&#x4E2D;&#x5BF9;&#x5E94;dex&#x6587;&#x4EF6;&#xFF0C;&#x5BF9;&#x4E8C;&#x8005;&#x7684;&#x901A;&#x8FC7;executeAndSaveTo&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x81F3;patchedDexFile&#xFF0C;&#x5373;patch&#x7684;&#x76EE;&#x6807;&#x79C1;&#x6709;&#x76EE;&#x5F55;&#x3002;</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6CE8;&amp;#x660E;&amp;#x51FA;&amp;#x5904;:&lt;a href=&quot;http://leizh.net/&quot;&gt;http://leizh.net/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="拆轮子系列" scheme="http://qq451682583.github.io/categories/%E6%8B%86%E8%BD%AE%E5%AD%90%E7%B3%BB%E5%88%97/"/>
    
    
      <category term="热修复" scheme="http://qq451682583.github.io/tags/%E7%83%AD%E4%BF%AE%E5%A4%8D/"/>
    
  </entry>
  
  <entry>
    <title>Android编码规范</title>
    <link href="http://qq451682583.github.io/2017/07/07/Android%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    <id>http://qq451682583.github.io/2017/07/07/Android编码规范/</id>
    <published>2017-07-07T11:45:55.000Z</published>
    <updated>2017-07-10T09:25:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a><strong>&#x524D;&#x8A00;</strong></h2><hr>
<p>&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x826F;&#x597D;&#x7684;&#x5F00;&#x53D1;&#x4E60;&#x60EF;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x5F00;&#x53D1;&#x89C4;&#x8303;&#x53EF;&#x80FD;&#x4F1A;&#x8BA9;&#x4F60;&#x5C11;&#x8D70;&#x5F88;&#x591A;&#x5F2F;&#x8DEF;&#xFF0C;&#x4E5F;&#x4F1A;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x7684;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#xFF0C;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#x548C;&#x53EF;&#x62D3;&#x5C55;&#x6027;&#x3002;&#x5F53;&#x968F;&#x7740;&#x9700;&#x6C42;&#x7684;&#x4E0D;&#x65AD;&#x53D8;&#x66F4;&#xFF0C;&#x9700;&#x8981;&#x7EF4;&#x62A4;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#x3002;&#x5F53;&#x968F;&#x7740;&#x9879;&#x76EE;&#x7684;&#x4EE3;&#x7801;&#x91CF;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x6784;&#x7684;&#x65F6;&#x5019;&#x3002;&#x4F60;&#x4F1A;&#x660E;&#x767D;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x5F00;&#x53D1;&#x89C4;&#x8303;&#x591A;&#x4E48;&#x591A;&#x4E48;&#x7684;&#x91CD;&#x8981;&#x3002;</p>
<h2 id="&#x547D;&#x540D;&#x89C4;&#x8303;"><a href="#&#x547D;&#x540D;&#x89C4;&#x8303;" class="headerlink" title="&#x547D;&#x540D;&#x89C4;&#x8303;"></a><strong>&#x547D;&#x540D;&#x89C4;&#x8303;</strong></h2><hr>
<h4 id="&#x5305;&#x540D;"><a href="#&#x5305;&#x540D;" class="headerlink" title="&#x5305;&#x540D;"></a>&#x5305;&#x540D;</h4><ul>
<li>&#x5305;&#x540D;&#x5168;&#x90E8;&#x91C7;&#x7528;&#x5C0F;&#x5199;&#xFF0C;&#x4E0D;&#x7528;&#x4E0B;&#x5212;&#x7EBF;&#x533A;&#x5206;&#x5355;&#x8BCD;</li>
<li>&#x901A;&#x7528;&#x529F;&#x80FD;&#x5B50;&#x5305;&#x540D;&#x91C7;&#x7528;[&#x4E3B;&#x5305;&#x540D;].[&#x901A;&#x7528;&#x540D;&#x79F0;]&#x7684;&#x547D;&#x540D;&#x65B9;&#x5F0F;</li>
<li>&#x4E00;&#x822C;&#x529F;&#x80FD;&#x5B50;&#x5305;&#x540D;&#x91C7;&#x7528;[&#x4E3B;&#x5305;&#x540D;].[&#x6A21;&#x5757;&#x540D;&#x79F0;].[&#x5B50;&#x6A21;&#x5757;&#x540D;&#x79F0;]&#x7684;&#x547D;&#x540D;&#x65B9;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x624B;&#x673A;&#x52A9;&#x624B;&#x7684;&#x95F9;&#x949F;&#x6A21;&#x5757;&#x5305;&#x540D; edu.feicui.assistant.alarm</li>
<li>&#x53EA;&#x9700;&#x5BFC;&#x5165;&#x7528;&#x5230;&#x7684;&#x7C7B;&#xFF0C;&#x4E0D;&#x5F97;&#x7528;*&#x5BFC;&#x5165;&#x5305;&#x4E0B;&#x6240;&#x6709;&#x7C7B;</li>
<li>&#x5BFC;&#x5165;&#x7C7B;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x7C7B;&#x5728;&#x4E0A;&#x65B9;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x5728;&#x4E0B;&#x65B9;</li>
</ul>
<h4 id="&#x4EE3;&#x7801;"><a href="#&#x4EE3;&#x7801;" class="headerlink" title="&#x4EE3;&#x7801;"></a>&#x4EE3;&#x7801;</h4><ul>
<li>&#x4EE3;&#x7801;&#x4E3B;&#x8981;&#x91C7;&#x7528;&#x5927;/&#x5C0F;&#x9A7C;&#x5CF0;&#x547D;&#x540D;&#x6CD5;&#xFF0C;&#x5373;&#x9664;&#x9996;&#x5B57;&#x6BCD;&#x5916;&#xFF0C;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#xFF0C;&#x6574;&#x4F53;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5C0F;&#x6839;&#x636E;&#x5176;&#x5B83;&#x89C4;&#x8303;&#x51B3;&#x5B9A;</li>
<li>&#x7C7B;&#x540D;&#x3001;&#x63A5;&#x53E3;&#x540D;&#x3001;&#x679A;&#x4E3E;&#x540D;&#x7B49;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#xFF0C;&#x82E5;&#x7531;&#x591A;&#x4E2A;&#x5355;&#x8BCD;&#x7EC4;&#x6210;&#xFF0C;&#x5219;&#x5176;&#x540E;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;class ConfigManager{}</li>
<li>&#x7EE7;&#x627F;&#x81EA;&#x5B89;&#x5353;&#x7EC4;&#x4EF6;&#x7684;&#x7C7B;&#xFF0C;&#x91C7;&#x7528;&#x7236;&#x7C7B;&#x540D;&#x4F5C;&#x4E3A;&#x540E;&#x7F00;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;class LoginActivity extends Activity{}</li>
<li>&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5FC5;&#x987B;&#x4EE5;Exception&#x7ED3;&#x5C3E;</li>
<li>&#x9664;for&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#x5916;&#xFF0C;&#x4E00;&#x5F8B;&#x4E0D;&#x5F97;&#x4F7F;&#x7528;i&#x3001;j&#x3001;k&#x7B49;&#x5355;&#x5B57;&#x7B26;&#x4F5C;&#x4E3A;&#x53D8;&#x91CF;&#x540D;</li>
<li>&#x5B9A;&#x4E49;&#x6570;&#x7EC4;&#x65F6;&#x65B9;&#x62EC;&#x53F7;&#x7D27;&#x968F;&#x5728;&#x539F;&#x59CB;&#x7C7B;&#x578B;&#x4E4B;&#x540E;&#xFF0C;&#x6570;&#x7EC4;&#x540D;&#x79F0;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x590D;&#x6570;&#x5F62;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;int[] arrays;</li>
<li>&#x5E38;&#x91CF;&#x3001;&#x679A;&#x4E3E;&#x7B49;&#x5747;&#x91C7;&#x7528;&#x5927;&#x5199;&#x5F62;&#x5F0F;&#xFF0C;&#x7528;&#x4E0B;&#x5212;&#x7EBF;&#x533A;&#x5206;&#x5404;&#x5355;&#x8BCD;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;final static int DIALOG_ID_ALARM = 1;enum Season{SPRING, SUMMER, AUTUMN, WINTER};</li>
<li>&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x6DFB;&#x52A0;&#x6240;&#x6709;&#x8005;&#x524D;&#x7F00;&#xFF1A;&#x5B9E;&#x4F8B;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x524D;&#x7F00;m&#xFF08;&#x8868;&#x793A;member&#xFF09;&#xFF0C;&#x7C7B;&#x9759;&#x6001;&#x53D8;&#x91CF;&#x524D;&#x7F00;s&#xFF08;&#x8868;&#x793A;static&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x5B9E;&#x4F8B;&#x53D8;&#x91CF;mRun &#x7C7B;&#x9759;&#x6001;&#x53D8;&#x91CF;sInstance</li>
<li>&#x63A7;&#x4EF6;&#x53D8;&#x91CF;&#x6DFB;&#x52A0;&#x7EC4;&#x4EF6;&#x524D;&#x7F00;&#xFF0C;&#x987A;&#x5E8F;&#x5728;&#x6240;&#x6709;&#x8005;&#x524D;&#x7F00;&#x4E4B;&#x540E;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x5168;&#x5C40;&#x540D;&#x79F0;mBtnNext  &#x5C40;&#x90E8;&#x540D;&#x79F0;btnNext</li>
<li>&#x9664;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x5916;&#x4E00;&#x822C;&#x4E0D;&#x5F97;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x53D8;&#x91CF;</li>
<li>&#x5E38;&#x91CF;&#x4E00;&#x822C;&#x4F7F;&#x7528;final static&#x4FEE;&#x9970;&#xFF0C;&#x6839;&#x636E;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x53EF;&#x89C1;&#x6027;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;public static final int VISIBLE = 0x00000000;</li>
<li>&#x4E00;&#x822C;&#x65B9;&#x6CD5;&#x540D;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199;&#xFF0C;&#x82E5;&#x7531;&#x591A;&#x4E2A;&#x5355;&#x8BCD;&#x7EC4;&#x6210;&#xFF0C;&#x5219;&#x5176;&#x540E;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;</li>
<li>&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x91C7;&#x7528;&#x9012;&#x589E;&#x65B9;&#x5F0F;&#xFF08;&#x53C2;&#x6570;&#x591A;&#x7684;&#x5199;&#x5728;&#x540E;&#x9762;&#xFF09;</li>
<li>&#x5B9E;&#x4F53;&#x7C7B;&#x4E2D;&#x56FA;&#x5B9A;&#x503C;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x53EF;&#x8BBE;&#x7F6E;&#x6210;final&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x6784;&#x9020;&#x51FD;&#x6570;&#x521D;&#x59CB;&#x5316;</li>
<li>&#x5B9E;&#x4F53;&#x7C7B;&#x4E2D;&#x4E0D;&#x5F97;&#x968F;&#x610F;&#x4FEE;&#x6539;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x53EF;&#x6DFB;&#x52A0;&#x4E0B;&#x5212;&#x7EBF;&#x524D;&#x7F00;&#x4EE5;&#x4F5C;&#x533A;&#x522B;,&#x4F8B;&#x5982;&#xFF1A;class User{public int_id;}</li>
<li>&#x4E00;&#x822C;&#x4E0D;&#x4F7F;&#x7528;System.out&#x8F93;&#x51FA;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;Log&#x4E2D;&#x7684;&#x65B9;&#x6CD5;</li>
<li>&#x4F7F;&#x7528;BuildConfig.DEBUG&#x6807;&#x8BB0;&#x5BF9;Log&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#xFF0C;&#x53EA;&#x5728;&#x8C03;&#x8BD5;&#x65F6;&#x8F93;&#x51FA;&#x91CD;&#x8981;&#x4FE1;&#x606F;&#xFF0C;&#x6B63;&#x5F0F;&#x7248;&#x4E0D;&#x8F93;&#x51FA;</li>
<li>&#x4E00;&#x822C;try&#x2026;&#x2026;catch&#x53EA;&#x6355;&#x83B7;&#x9700;&#x8981;&#x7684;&#x5F02;&#x5E38;</li>
<li>catch&#x5757;&#x4E0D;&#x5F97;&#x4E3A;&#x7A7A;&#xFF0C;&#x81F3;&#x5C11;&#x5E94;&#x5F53;&#x5C06;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x8F93;&#x51FA;</li>
</ul>
<h4 id="&#x8D44;&#x6E90;"><a href="#&#x8D44;&#x6E90;" class="headerlink" title="&#x8D44;&#x6E90;"></a>&#x8D44;&#x6E90;</h4><ul>
<li>&#x8D44;&#x6E90;&#x547D;&#x540D;&#x5168;&#x90E8;&#x91C7;&#x7528;&#x5C0F;&#x5199;&#xFF0C;&#x5404;&#x5355;&#x8BCD;&#x95F4;&#x4EE5;&#x4E0B;&#x5212;&#x7EBF;&#x533A;&#x5206;</li>
<li>&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x91C7;&#x7528;[&#x524D;&#x7F00;]&#x4E0B;&#x5212;&#x7EBF;[&#x529F;&#x80FD;&#x6A21;&#x5757;].xml&#x7684;&#x547D;&#x540D;&#x65B9;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;MainActivity&#x7684;&#x5E03;&#x5C40;activity_main.xml</li>
<li>&#x56FE;&#x7247;&#x91C7;&#x7528;[&#x6027;&#x8D28;&#x524D;&#x7F00;][&#x529F;&#x80FD;&#x6A21;&#x5757;] [&#x5C5E;&#x6027;&#x540E;&#x7F00;].[&#x6269;&#x5C55;&#x540D;]&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x4E3B;&#x80CC;&#x666F;&#x56FE;&#x7247;bg_main.png  &#x786E;&#x5B9A;&#x6309;&#x94AE;&#x6309;&#x4E0B;btn_ok_presssed.png</li>
<li>values&#x76EE;&#x5F55;&#x4E0B;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x8F83;&#x56FA;&#x5B9A;&#xFF0C;&#x4E0D;&#x5F97;&#x968F;&#x610F;&#x66F4;&#x6539;</li>
</ul>
<h2 id="&#x6CE8;&#x91CA;"><a href="#&#x6CE8;&#x91CA;" class="headerlink" title="&#x6CE8;&#x91CA;"></a><strong>&#x6CE8;&#x91CA;</strong></h2><ul>
<li><p>&#x7C7B;&#x5B9A;&#x4E49;&#x4E00;&#x822C;&#x9700;&#x8981;&#x5199;&#x7C7B;&#x6CE8;&#x91CA;&#xFF0C;&#x63A5;&#x53E3;&#x4E00;&#x822C;&#x9700;&#x8981;&#x5199;&#x63A5;&#x53E3;&#x6CE8;&#x91CA;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6587;&#x4EF6;&#x6CE8;&#x91CA;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5728;&#x7C7B;&#x6CE8;&#x91CA;&#x548C;&#x63A5;&#x53E3;&#x6CE8;&#x91CA;&#x4E2D;&#x6807;&#x51FA;&#x4F5C;&#x8005;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">    * Root of the ION tree, provides the access to the   document&apos;s data.</div><div class="line">    * &lt;p&gt;</div><div class="line">    * Subclass of {@link Node}, Since elements, comments, etc. cannot exist</div><div class="line">    * outside the context of a Document, the Document also contains the</div><div class="line">    * factory methods needed to create these objects.</div><div class="line">    * &lt;/p&gt;</div><div class="line">    *</div><div class="line">    * @author Mr. Zhang</div><div class="line">    */</div><div class="line">    class Document {}</div></pre></td></tr></table></figure>
</li>
<li><p>&#x6210;&#x5458;&#x53D8;&#x91CF;&#x3001;&#x9759;&#x6001;&#x53D8;&#x91CF;&#x3001;&#x5E38;&#x91CF;&#x7B49;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#x6CE8;&#x91CA;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/** This view is invisible. */</div><div class="line">  public static final int INVISIBLE = 0x00000004;</div></pre></td></tr></table></figure>
</li>
<li><p>&#x5173;&#x8054;&#x6027;&#x8F83;&#x5927;&#x7684;&#x591A;&#x4E2A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x7B49;&#x53EF;&#x4EE5;&#x5171;&#x7528;&#x540C;&#x4E00;&#x6761;&#x6CE8;&#x91CA;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/** The width and height of View. */</div><div class="line">   private int mWidth, mHeight;</div></pre></td></tr></table></figure>
</li>
<li><p>public&#x548C;protected&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#x6CE8;&#x91CA;&#xFF0C;default&#x548C;private&#x65B9;&#x6CD5;&#x5EFA;&#x8BAE;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#x6CE8;&#x91CA;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">    * Writes {@code count} characters starting at {@code offset}     in {@code buf}</div><div class="line">    * to the target.</div><div class="line">    *</div><div class="line">    * @param buf</div><div class="line">    *            the non-null character array to write.</div><div class="line">    * @param offset</div><div class="line">    *            the index of the first character in {@code buf} to write.</div><div class="line">    * @param count</div><div class="line">    *            the maximum number of characters to write.</div><div class="line">    * @return {@code true} if success, otherwise {@code false}</div><div class="line">    * @throws IndexOutOfBoundsException</div><div class="line">    *             if {@code offset &lt; 0} or {@code count &lt; 0}, or if {@code</div><div class="line">    *             offset + count} is greater than the size of {@code buf}.</div><div class="line">    * @throws IOException</div><div class="line">    *             if this writer is closed or another I/O error occurs.</div><div class="line">    */</div><div class="line">     public abstract boolean write(char[] buf, int offset, int count) throws IndexOutOfBoundsException, IOException;</div></pre></td></tr></table></figure>
</li>
<li><p>&#x82E5;&#x8986;&#x76D6;&#x57FA;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4E0D;&#x5199;&#x65B9;&#x6CD5;&#x6CE8;&#x91CA;&#xFF0C;&#x4F46;&#x5FC5;&#x987B;&#x7528;@Override&#x6807;&#x51FA;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">   protected void onCreate(Bundle savedInstanceState) {}</div></pre></td></tr></table></figure>
</li>
<li><p>&#x4E0D;&#x5EFA;&#x8BAE;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x7528;@Deprecated&#x6807;&#x51FA;</p>
</li>
<li><p>switch&#x2026;&#x2026;case&#x7684;&#x6BCF;&#x4E2A;&#x6761;&#x4EF6;&#x4E00;&#x822C;&#x6DFB;&#x52A0;&#x7B80;&#x77ED;&#x8BF4;&#x660E;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">switch (type) {</div><div class="line">   case 1:// Android apps</div><div class="line">         break;</div><div class="line">   case 2:// Android games</div><div class="line">         break;</div><div class="line">   case 3:// iOS apps</div><div class="line">         break;</div><div class="line">   default:// Not a valid package</div><div class="line">         break;</div><div class="line">   }</div></pre></td></tr></table></figure>
</li>
<li><p>&#x5982;&#x679C;if&#x7684;&#x6761;&#x4EF6;&#x5927;&#x4E8E;2&#x4E2A;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x5199;&#x6CE8;&#x91CA;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">if (isBluetooth // If Bluetooth network is on</div><div class="line">               || isWifi // If WLAN network is on</div><div class="line">               || is3g // if 3g network is on</div><div class="line">     ) {}</div></pre></td></tr></table></figure>
</li>
<li><p>&#x5BF9;&#x4E8E;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x7528;TODO&#x52A0;&#x4EE5;&#x6807;&#x8BB0;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">void write(byte[] buf, File file) {</div><div class="line">    // TODO: Write buf to file</div><div class="line">  }</div></pre></td></tr></table></figure>
</li>
<li><p>&#x82E5;&#x529F;&#x80FD;&#x5DF2;&#x5B8C;&#x6210;&#xFF0C;&#x4F46;&#x5B58;&#x5728;&#x6548;&#x7387;&#x7B49;&#x6F5C;&#x5728;&#x95EE;&#x9898;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;XXX&#x52A0;&#x4EE5;&#x6807;&#x8BB0;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">void parseXML(File file) {</div><div class="line">       // XXX: Maybe SAX is better</div><div class="line">       DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();</div><div class="line">       Document doc = builder.parse(file);</div><div class="line">   }</div></pre></td></tr></table></figure>
</li>
<li><p>&#x82E5;&#x4EE3;&#x7801;&#x5B58;&#x5728;&#x4E25;&#x91CD;&#x95EE;&#x9898;&#x6216;&#x4EC5;&#x7528;&#x4E8E;&#x8C03;&#x8BD5;&#xFF0C;&#x4F7F;&#x7528;FIXME&#x52A0;&#x4EE5;&#x6807;&#x8BB0;&#xFF08;&#x6CE8;&#xFF1A;&#x5B58;&#x5728;FIXME&#x6807;&#x8BB0;&#x7684;&#x4EE3;&#x7801;&#x4E0D;&#x80FD;&#x4F5C;&#x4E3A;&#x6B63;&#x5F0F;&#x7248;&#x53D1;&#x5E03;&#xFF09;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">boolean login(String name, String pwd) {</div><div class="line">        //FIXME: Remove this line before publishing</div><div class="line">        System.out.println(&quot;name=&quot; + name + &quot;, password=&quot; + pwd);</div><div class="line">        if (users.containsKey(name) &amp;&amp; users.get(name).equals(pwd))</div><div class="line">        return true;</div><div class="line">        return false;</div><div class="line">   }</div></pre></td></tr></table></figure>
</li>
<li><p>&#x5982;&#x679C;for&#x3001;while&#x7B49;&#x4EE3;&#x7801;&#x5757;&#x8FC7;&#x957F;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7ED3;&#x5C3E;&#x5904;&#x6807;&#x8BB0;&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">for (int position = 0; position &lt; 10; position++) {</div><div class="line">          &#x2026;&#x2026;</div><div class="line">  }// end for: position</div><div class="line">  while(mRun){</div><div class="line">          &#x2026;&#x2026;</div><div class="line">  }// end while: mRun</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x89C4;&#x8303;"><a href="#&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x89C4;&#x8303;" class="headerlink" title="&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x89C4;&#x8303;"></a><strong>&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x89C4;&#x8303;</strong></h2><p>&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x65E0;&#x8BBA;&#x662F;git&#xFF0C;&#x8FD8;&#x662F;svn&#x90FD;&#x9700;&#x8981;&#x9075;&#x5B88;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x89C4;&#x8303;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;git&#x3002;</p>
<ul>
<li>&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x8981;&#x53CA;&#x65F6;&#x66F4;&#x65B0;&#xFF0C;&#x4E0D;&#x8981;&#x548C;&#x670D;&#x52A1;&#x5668;&#x6709;&#x592A;&#x5927;&#x7684;&#x5DEE;&#x522B;</li>
<li>&#x63D0;&#x4EA4;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x51B2;&#x7A81;&#xFF0C;&#x5FC5;&#x987B;&#x4ED4;&#x7EC6;&#x5206;&#x6790;&#x89E3;&#x51B3;&#xFF0C;&#x4E0D;&#x53EF;&#x4EE5;&#x5F3A;&#x884C;&#x63D0;&#x4EA4;</li>
<li>&#x63D0;&#x4EA4;&#x4EE3;&#x7801;&#x4E4B;&#x524D;&#x5148;&#x5728;&#x672C;&#x5730;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x786E;&#x4FDD;&#x9879;&#x76EE;&#x80FD;&#x7F16;&#x8BD1;&#x901A;&#x8FC7;&#xFF0C;&#x4E14;&#x80FD;&#x591F;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x53EF;&#x76F2;&#x76EE;&#x63D0;&#x4EA4;</li>
<li>&#x5FC5;&#x987B;&#x4FDD;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x7248;&#x672C;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x9879;&#x76EE;&#x6709;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x4E0D;&#x8981;&#x8FDB;&#x884C;&#x63D0;&#x4EA4;</li>
<li>&#x63D0;&#x4EA4;&#x4E4B;&#x524D;&#x5148;&#x66F4;&#x65B0;</li>
<li>&#x63D0;&#x4EA4;&#x65F6;&#x6CE8;&#x610F;&#x4E0D;&#x8981;&#x63D0;&#x4EA4;&#x672C;&#x5730;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;Android Studio&#x9879;&#x76EE;&#x4E2D;&#x7684; idea,build&#x6587;&#x4EF6;&#x5939;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x63D0;&#x4EA4;&#x7684;&#x3002;</li>
<li>&#x4E0D;&#x8981;&#x63D0;&#x4EA4;&#x81EA;&#x5DF1;&#x4E0D;&#x660E;&#x767D;&#x7684;&#x4EE3;&#x7801;</li>
<li>&#x63D0;&#x524D;&#x534F;&#x8C03;&#x597D;&#x9879;&#x76EE;&#x7EC4;&#x6210;&#x5458;&#x7684;&#x5DE5;&#x4F5C;&#x8BA1;&#x5212;&#xFF0C;&#x51CF;&#x5C11;&#x51B2;&#x7A81;</li>
<li>&#x5BF9;&#x63D0;&#x4EA4;&#x7684;&#x4FE1;&#x606F;&#x91C7;&#x7528;&#x660E;&#x6670;&#x7684;&#x6807;&#x6CE8;&#xFF08;&#x5199;&#x6CE8;&#x91CA;&#xFF09;</li>
<li>&#x5F00;&#x53D1;&#x65B0;&#x4EFB;&#x52A1;&#x7684;&#x65F6;&#x5019;&#x8981;&#x5F00;&#x65B0;&#x7684;&#x5206;&#x652F;&#xFF0C;&#x5206;&#x652F;&#x547D;&#x540D;&#x8868;&#x9762;&#x4EFB;&#x52A1;&#x9700;&#x6C42;</li>
<li>&#x5206;&#x652F;&#x5F00;&#x53D1;&#x5B8C;&#x540E;&#xFF0C;&#x8981;&#x5148;&#x62C9;&#x53BB;&#x4E3B;&#x5206;&#x652F;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x4E3B;&#x5206;&#x652F;&#x4EE3;&#x7801;&#x5408;&#x5E76;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x5206;&#x652F;&#x4E0A;&#xFF0C;&#x5408;&#x5E76;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5728;&#x5207;&#x6362;&#x5230;&#x4E3B;&#x5206;&#x652F;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x5206;&#x652F;&#x518D;&#x5408;&#x5E76;&#x5230;&#x4E3B;&#x5206;&#x652F; &#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x907F;&#x514D;&#x4E86;&#x81EA;&#x5DF1;&#x7684;&#x5206;&#x652F;&#x76F4;&#x63A5;&#x5408;&#x5E76;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x4E3B;&#x5206;&#x652F;&#x9020;&#x6210;&#x5F71;&#x54CD;</li>
</ul>
<p>&#x4F7F;&#x7528;git&#x4EE5;&#x53CA;github&#xFF0C;&#x76F8;&#x4FE1;stormzhang&#x7684;&#x4ECE;<a href="https://zhuanlan.zhihu.com/p/21113342?refer=stormzhang" target="_blank" rel="external">0&#x5F00;&#x59CB;&#x5B66;&#x4E60; GitHub</a> &#x7CFB;&#x5217;&#x4F1A;&#x5BF9;&#x4F60;&#x6709;&#x5F88;&#x5927;&#x7684;&#x5E2E;&#x52A9;&#x3002;</p>
<h2 id="&#x67B6;&#x6784;&#x89C4;&#x8303;"><a href="#&#x67B6;&#x6784;&#x89C4;&#x8303;" class="headerlink" title="&#x67B6;&#x6784;&#x89C4;&#x8303;"></a><strong>&#x67B6;&#x6784;&#x89C4;&#x8303;</strong></h2><p>&#x53EF;&#x4EE5;&#x53C2;&#x8003;<a href="http://www.jianshu.com/nb/3767449" target="_blank" rel="external">&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x642D;&#x5EFA;android&#x6846;&#x67B6;&#x7CFB;&#x5217;</a></p>
<h4 id="&#x67B6;&#x6784;&#x65B9;&#x5F0F;"><a href="#&#x67B6;&#x6784;&#x65B9;&#x5F0F;" class="headerlink" title="&#x67B6;&#x6784;&#x65B9;&#x5F0F;"></a>&#x67B6;&#x6784;&#x65B9;&#x5F0F;</h4><p>&#x662F;&#x9009;&#x62E9;MVP&#xFF0C;MVC&#xFF0C;MVVM &#xFF0C;Flux&#x8FD8;&#x662F;clean &#x67B6;&#x6784;&#xFF1F;&#xFF0C;+dagger2&#xFF1F;+rxjava&#xFF1F;+Retrofit/okhtttp?+loader&#xFF1F;+databinding&#xFF1F;+contentProvider?&#x8C37;&#x6B4C;&#x5B98;&#x65B9;&#x67B6;&#x6784;&#x793A;&#x4F8B;<a href="https://github.com/googlesamples/android-architecture" target="_blank" rel="external">android-architecture</a></p>
<h4 id="&#x5F00;&#x6E90;&#x5E93;&#x7684;&#x9009;&#x53D6;"><a href="#&#x5F00;&#x6E90;&#x5E93;&#x7684;&#x9009;&#x53D6;" class="headerlink" title="&#x5F00;&#x6E90;&#x5E93;&#x7684;&#x9009;&#x53D6;"></a>&#x5F00;&#x6E90;&#x5E93;&#x7684;&#x9009;&#x53D6;</h4><p>&#x5BF9;&#x5F00;&#x6E90;&#x5E93;&#x7684;&#x9009;&#x53D6;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x9700;&#x8981;&#x9009;&#x62E9;&#x6BD4;&#x8F83;&#x7A33;&#x5B9A;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x8FD8;&#x6709;&#x4F5C;&#x8005;&#x5728;&#x7EF4;&#x62A4;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x91CC;&#x5728;github&#x641C;&#x7D22;image&#xFF0C;&#x51FA;&#x73B0;&#x7684;&#x5B89;&#x5353;&#x4E2D;&#x7684;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5E93;&#x3002;&#x9664;&#x4E86;&#x8003;&#x8651;star&#xFF0C;&#x8FD8;&#x8981;&#x8003;&#x8651;&#x4F5C;&#x8005;&#x5BF9;issue&#x7684;&#x89E3;&#x51B3;&#xFF0C;&#x4EE5;&#x53CA;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x77E5;&#x540D;&#x5EA6;&#x7B49;&#x5404;&#x65B9;&#x9762;&#x3002;</p>
<h4 id="&#x67B6;&#x6784;&#x63D0;&#x793A;"><a href="#&#x67B6;&#x6784;&#x63D0;&#x793A;" class="headerlink" title="&#x67B6;&#x6784;&#x63D0;&#x793A;"></a>&#x67B6;&#x6784;&#x63D0;&#x793A;</h4><ul>
<li><p>&#x62BD;&#x8C61;&#x5C42;&#x9762;&#x4E0A;&#xFF1A;</p>
<p>&#x63D0;&#x9AD8;&#x67B6;&#x6784;&#x7684;&#x62D3;&#x5C55;&#x6027;&#x662F;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x3002;<br>&#x4EE5;&#x524D;&#x7684;&#x6846;&#x67B6;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x529F;&#x80FD;&#x4E0D;&#x8DB3;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x8FD9;&#x70B9;&#x662F;&#x4E0D;&#x53EF;&#x9884;&#x89C1;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x6846;&#x67B6;&#x65F6;&#x4E00;&#x5B9A;&#x8981;&#x4E86;&#x89E3;&#x597D;&#x6846;&#x67B6;&#x672C;&#x8EAB;&#x7684;&#x6269;&#x5C55;&#x6027;&#x5982;&#x4F55;&#xFF0C;&#x6216;&#x8005;&#x5BF9;&#x6846;&#x67B6;&#x6709;&#x8F83;&#x6DF1;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x80FD;&#x591F;&#x81EA;&#x5DF1;&#x6269;&#x5C55;&#x6846;&#x67B6;&#xFF0C;<br>&#x63D0;&#x9AD8;&#x67B6;&#x6784;&#x7684;&#x7A33;&#x5B9A;&#x6027;<br>&#x67B6;&#x6784;&#x7684;&#x6587;&#x6863;&#x4E5F;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x3002;</p>
</li>
<li><p>&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x65F6;&#xFF1A;</p>
<p>activity&#x548C;fragment&#x91CC;&#x9762;&#x90FD;&#x4F1A;&#x6709;&#x8BB8;&#x591A;&#x91CD;&#x590D;&#x7684;&#x64CD;&#x4F5C;&#x4EE5;&#x53CA;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x90FD;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;BaseActivity&#x548C;BaseFragment&#xFF0C;&#x8BA9;&#x6240;&#x6709;&#x7684;activity&#x548C;fragment&#x90FD;&#x7EE7;&#x627F;&#x8FD9;&#x4E2A;&#x57FA;&#x7C7B;&#x3002;</p>
</li>
<li><p>&#x5FC5;&#x8981;&#x7684;&#x6CE8;&#x91CA;&#x771F;&#x7684;&#x4F1A;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x7684;&#x964D;&#x4F4E;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x63D0;&#x9AD8;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x4F7F;&#x7528;Rxjava&#x505A;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x8FD9;&#x91CC;&#x9762;&#x7684;&#x6D41;&#x7A0B;&#x53EF;&#x80FD;&#x7A0D;&#x663E;&#x590D;&#x6742;&#xFF0C;&#x4F46;&#x662F;&#x80FD;&#x591F;step1&#xFF0C; step2&#x7684;&#x5199;&#x5728;&#x4E0A;&#x9762;&#xFF0C;&#x80FD;&#x591F;&#x8BA9;&#x522B;&#x4EBA;&#x770B;&#x61C2;&#xFF0C;&#x81EA;&#x5DF1;&#x7EF4;&#x62A4;&#x4E5F;&#x65B9;&#x4FBF;&#x3002;</p>
</li>
<li><p>&#x591A;&#x7528;&#x7EC4;&#x5408;, &#x5C11;&#x7528;&#x7EE7;&#x627F;</p>
</li>
<li>&#x63D0;&#x53D6;&#x65B9;&#x6CD5;, &#x53BB;&#x9664;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x3002;</li>
<li>&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x9B54;&#x9B3C;&#x6570;&#x5B57;/&#x5B57;&#x7B26;&#x4E32;/&#x5C3A;&#x5BF8;&#x503C;/&#x989C;&#x8272;&#x503C;&#xFF0C;&#x6B63;&#x786E;&#x7684;&#x547D;&#x540D;&#x7B49;</li>
<li>&#x5F15;&#x5165;Dagger2 &#x51CF;&#x5C11;&#x6A21;&#x5757;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x6027;<br>Dagger2 &#x662F;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x6846;&#x67B6;&#xFF0C;&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x9700;&#x8981;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x51CF;&#x5C11;&#x5F88;&#x591A;&#x6A21;&#x677F;&#x5316;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x66F4;&#x6613;&#x4E8E;&#x6D4B;&#x8BD5;&#xFF0C;&#x964D;&#x4F4E;&#x8026;&#x5408;&#xFF0C;&#x521B;&#x5EFA;&#x53EF;&#x590D;&#x7528;&#x53EF;&#x4E92;&#x6362;&#x7684;&#x6A21;&#x5757;&#x3002;<br>&#x53C2;&#x8003;&#x4E4B;&#x524D;&#x7684;&#x6587;&#x7AE0; <a href="http://www.jianshu.com/p/01d3c014b0b1" target="_blank" rel="external">Google&#x5B98;&#x65B9;MVP+Dagger2&#x67B6;&#x6784;&#x8BE6;&#x89E3;</a></li>
<li>&#x4E3A;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x5F15;&#x5165;Rxjava+RxAndroid&#x8FD9;&#x4E9B;&#x54CD;&#x5E94;&#x5F0F;&#x7F16;&#x7A0B;&#x5427;&#x3002;&#x6781;&#x5927;&#x7684;&#x51CF;&#x5C11;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#xFF0C;&#x8BA9;&#x4F60;&#x7231;&#x4E0A;&#x5199;&#x4EE3;&#x7801;&#x505C;&#x4E0D;&#x4E0B;&#x6765;&#x3002;</li>
<li>&#x901A;&#x8FC7;&#x5F15;&#x5165; Event Bus&#xFF08;&#x4E8B;&#x4EF6;&#x603B;&#x7EBF;&#xFF0C;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x7684;&#x662F;otto&#xFF09;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x5728;Data Layer&#x4E2D;&#x53D1;&#x9001;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE5;&#x4FBF;View Layer&#x4E2D;&#x7684;&#x591A;&#x4E2A;&#x7EC4;&#x4EF6;&#x90FD;&#x80FD;&#x591F;&#x8BA2;&#x9605;&#x5230;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x3002;&#x6BD4;&#x5982;DataManager&#x4E2D;&#x7684;&#x9000;&#x51FA;&#x767B;&#x5F55;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x8BA2;&#x9605;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x7684;&#x591A;&#x4E2A;Activity&#x5728;&#x63A5;&#x6536;&#x5230;&#x8BE5;&#x4E8B;&#x4EF6;&#x540E;&#x5C31;&#x80FD;&#x591F;&#x66F4;&#x6539;&#x5B83;&#x4EEC;&#x7684;UI&#x89C6;&#x56FE;&#xFF0C;&#x4ECE;&#x800C;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x767B;&#x51FA;&#x72B6;&#x6001;&#x3002;<br>&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x6709;&#x5F88;&#x591A;&#x7684;&#x9009;&#x62E9;&#xFF0C;EventBus&#xFF0C;Otto&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;RxBus&#x7B49;&#x3002;&#x51CF;&#x5C11;&#x56DE;&#x8C03;&#x3002;</li>
<li>&#x6DFB;&#x52A0;&#x65E5;&#x5FD7;&#x6253;&#x5370;&#xFF0C;&#x7528;&#x4E8E;&#x67E5;&#x627E;&#x9519;&#x8BEF;&#x7B49;&#x3002;<br><a href="https://github.com/orhanobut/logger" target="_blank" rel="external">Logger</a></li>
</ul>
<h2 id="&#x79D2;&#x554A;&#x9879;&#x76EE;&#x7ED3;&#x6784;"><a href="#&#x79D2;&#x554A;&#x9879;&#x76EE;&#x7ED3;&#x6784;" class="headerlink" title="&#x79D2;&#x554A;&#x9879;&#x76EE;&#x7ED3;&#x6784;"></a><strong>&#x79D2;&#x554A;&#x9879;&#x76EE;&#x7ED3;&#x6784;</strong></h2><table>
<thead>
<tr>
<th style="text-align:left">&#x5305;&#x540D;</th>
<th style="text-align:right">&#x542B;&#x4E49;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">app</td>
<td style="text-align:right">Application&#x57FA;&#x7840;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left">base</td>
<td style="text-align:right">Activity Fragment&#x516C;&#x5171;&#x57FA;&#x7840;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">BaseActivity</td>
<td>Activity&#x57FA;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">BaseFragment</td>
<td>Fragment&#x57FA;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">BaseFragmentAdapter</td>
<td>FragmentAdapter</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">BaseModel</td>
<td>&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x57FA;&#x672C;&#x5904;&#x7406;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">BasePresenter</td>
<td>presenter&#x57FA;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">CommonAdapter</td>
<td>listview&#x901A;&#x7528;&#x7684;adapter</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">ViewHolder</td>
<td>&#x901A;&#x7528;&#x7684;viewholder</td>
</tr>
<tr>
<td style="text-align:left">jpush</td>
<td style="text-align:right">&#x673A;&#x5173;&#x63A8;Receiver</td>
</tr>
<tr>
<td style="text-align:left">net</td>
<td style="text-align:right">&#x7F51;&#x7EDC;&#x5904;&#x7406;&#x76F8;&#x5173;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">CommonParamsInterceptor</td>
<td>okhtttp&#x53C2;&#x6570;&#x62E6;&#x622A;&#x5668;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">CookieInterceptor</td>
<td>session&#x6301;&#x4E45;&#x5316;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">HttpLoggingInterceptor</td>
<td>okhtttp&#x63A5;&#x53E3;&#x65E5;&#x5FD7;&#x62E6;&#x622A;&#x5668;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">HttpsFactroy</td>
<td>https&#x76F8;&#x5173;&#x5904;&#x7406;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">NetConst</td>
<td>&#x57FA;&#x7840;&#x5E38;&#x91CF;&#x914D;&#x7F6E;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">OkHttpHelper</td>
<td>okhtttp&#x5B9E;&#x4F8B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">RequestCallBack</td>
<td>retrofit&#x56DE;&#x8C03;&#x5904;&#x7406;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">RequestNormalApi</td>
<td>&#x670D;&#x52A1;&#x5668;&#x63A5;&#x53E3;&#x7533;&#x660E;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">RequestNormalService</td>
<td>Retrofit&#x63A5;&#x53E3;service</td>
</tr>
<tr>
<td style="text-align:left">onekeyshare</td>
<td style="text-align:right">ShareSdk&#x5206;&#x4EAB;&#x76F8;&#x5173;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left">permission</td>
<td style="text-align:right">&#x6743;&#x9650;&#x7BA1;&#x7406;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left">ui</td>
<td style="text-align:right">UI&#x76F8;&#x5173;&#x7684;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">activity</td>
<td>&#x4E1A;&#x52A1;&#x76F8;&#x5173;activity</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">adapter</td>
<td>&#x9700;&#x8981;&#x7684;&#x9002;&#x914D;&#x5668;&#x76F8;&#x5173;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">fragment</td>
<td>&#x4E1A;&#x52A1;&#x76F8;&#x5173;&#x7684;fragment</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">model</td>
<td>&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x5BF9;&#x5E94;&#x7684;javaBean</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">presenter</td>
<td>MVP&#x67B6;&#x6784;&#x4E2D;&#x7684;P&#x5C42;</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:right">view</td>
<td>MVP&#x4E2D;&#x7684;view&#x5C42;</td>
</tr>
<tr>
<td style="text-align:left">widget</td>
<td style="text-align:right">&#x81EA;&#x5B9A;&#x4E49;&#x63A7;&#x4EF6;</td>
</tr>
<tr>
<td style="text-align:left">wxapi</td>
<td style="text-align:right">&#x5FAE;&#x4FE1;&#x652F;&#x4ED8;&#x76F8;&#x5173;</td>
</tr>
</tbody>
</table>
]]></content>
    
    <summary type="html">
    
      初稿
    
    </summary>
    
      <category term="编程习惯" scheme="http://qq451682583.github.io/categories/%E7%BC%96%E7%A8%8B%E4%B9%A0%E6%83%AF/"/>
    
    
      <category term="Android" scheme="http://qq451682583.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Activity启动模式,IntentFilter匹配规则</title>
    <link href="http://qq451682583.github.io/2016/11/02/Activity%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F-IntentFilter%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99/"/>
    <id>http://qq451682583.github.io/2016/11/02/Activity启动模式-IntentFilter匹配规则/</id>
    <published>2016-11-02T09:53:47.000Z</published>
    <updated>2017-07-10T09:25:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<h4 id="&#x5173;&#x4E8E;Activity"><a href="#&#x5173;&#x4E8E;Activity" class="headerlink" title="&#x5173;&#x4E8E;Activity:"></a>&#x5173;&#x4E8E;Activity:</h4><ol>
<li>onStart&#x548C;onResume,onPause&#x548C;onStop&#x4ECE;&#x63CF;&#x8FF0;&#x4E0A;&#x6765;&#x770B;&#x5DEE;&#x4E0D;&#x591A;,&#x5BF9;&#x6211;&#x4EEC;&#x6765;&#x8BF4;&#x6709;&#x4EC0;&#x4E48;&#x5B9E;&#x8D28;&#x6027;&#x4E0D;&#x540C;&#x5462;?</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x4E0A;&#x8BC9;&#x7684;4&#x4E2A;&#x65B9;&#x6CD5;,&#x786E;&#x5B9E;&#x5DEE;&#x4E0D;&#x591A;,&#x751A;&#x81F3;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53EA;&#x4FDD;&#x7559;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x5BF9;.&#x5176;&#x5B9E;&#x8FD9;</div><div class="line">&#x4E24;&#x4E2A;&#x914D;&#x5BF9;&#x7684;&#x56DE;&#x8C03;&#x5206;&#x522B;&#x8868;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x610F;&#x4E49;,onStart&#x548C;onStop&#x662F;&#x4ECE;Activity&#x662F;&#x5426;&#x53EF;</div><div class="line">&#x89C1;&#x8FD9;&#x4E2A;&#x89D2;&#x5EA6;&#x6765;&#x56DE;&#x8C03;&#x7684;,&#x800C;onResume&#x548C;onPause&#x662F;&#x4ECE;Activity&#x662F;&#x5426;&#x4F4D;&#x4E8E;&#x524D;&#x53F0;&#x8FD9;&#x4E2A;</div><div class="line">&#x89D2;&#x5EA6;&#x6765;&#x56DE;&#x8C03;&#x7684;.</div></pre></td></tr></table></figure>
<ol>
<li>&#x65E7;Activity&#x7684;onPasue&#x548C;&#x65B0;Activity&#x7684;onResume,&#x662F;&#x54EA;&#x4E2A;&#x5148;&#x6267;&#x884C;&#x5462;?</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x7406;&#x89E3;&#x4E00;&#x4E0B;Activity&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;</div><div class="line"></div><div class="line">&#x9996;&#x5148;,&#x542F;&#x52A8;Activity&#x7684;&#x8BF7;&#x6C42;&#x4F1A;&#x7531; Instrumenation &#x6765;&#x5904;&#x7406;,&#x7136;&#x540E;&#x5B83;&#x901A;</div><div class="line">&#x8FC7;Binder&#x5411;ActivityManagerService(AMS)&#x53D1;&#x8BF7;&#x6C42;,AMS&#x5185;&#x90E8;&#x7EF4;&#x62A4;&#x8FD9;&#x4E00;</div><div class="line">&#x4E2A;ActivityStack&#x5E76;&#x8D1F;&#x8D23;&#x6808;&#x5185;&#x7684;Activity&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;,AMS&#x901A;&#x8FC7;Activit</div><div class="line">yThread&#x53BB;&#x540C;&#x6B65;Activity&#x7684;&#x72B6;&#x6001;&#x4ECE;&#x800C;&#x5B8C;&#x6210;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;.</div><div class="line"></div><div class="line">&#x8FD9;&#x91CC;&#x53EA;&#x505A;&#x51FA;&#x7ED3;&#x8BBA;,&#x662F;&#x65E7;Activity&#x5148;onPause,&#x7136;&#x540E;&#x65B0;Activity&#x518D;&#x542F;&#x52A8;.</div><div class="line"></div><div class="line">&#x5177;&#x4F53;&#x539F;&#x7406;&#x53EF;&#x4EE5;&#x4ECE;&#x6E90;&#x7801;&#x4E2D;&#x4E00;&#x63A2;&#x7A76;&#x7ADF;.</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6CE8;&amp;#x660E;&amp;#x51FA;&amp;#x5904;:&lt;a href=&quot;http://leizh.net/&quot;&gt;http://leizh.net/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="温故知新" scheme="http://qq451682583.github.io/categories/%E6%B8%A9%E6%95%85%E7%9F%A5%E6%96%B0/"/>
    
    
      <category term="Android" scheme="http://qq451682583.github.io/tags/Android/"/>
    
      <category term="Activity" scheme="http://qq451682583.github.io/tags/Activity/"/>
    
      <category term="LaunchMode" scheme="http://qq451682583.github.io/tags/LaunchMode/"/>
    
      <category term="IntentFilter" scheme="http://qq451682583.github.io/tags/IntentFilter/"/>
    
  </entry>
  
  <entry>
    <title>java传值还是传引用</title>
    <link href="http://qq451682583.github.io/2016/10/31/java%E4%BC%A0%E5%80%BC%E8%BF%98%E6%98%AF%E4%BC%A0%E5%BC%95%E7%94%A8/"/>
    <id>http://qq451682583.github.io/2016/10/31/java传值还是传引用/</id>
    <published>2016-10-31T10:17:54.000Z</published>
    <updated>2017-07-10T09:25:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<h3 id="java&#x4F20;&#x9012;&#x5206;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;-&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#xFF0C;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002;"><a href="#java&#x4F20;&#x9012;&#x5206;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;-&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#xFF0C;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002;" class="headerlink" title="java&#x4F20;&#x9012;&#x5206;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;: &#x5BF9;&#x8C61;&#x4F20;&#x9012;&#xFF0C;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002;"></a>java&#x4F20;&#x9012;&#x5206;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;: &#x5BF9;&#x8C61;&#x4F20;&#x9012;&#xFF0C;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002;</h3><p>&#x533A;&#x5206;&#x6765;&#x770B;:</p>
<ul>
<li>&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x7684;&#x4F20;&#x9012;:    &#x5F15;&#x7528;&#x4F20;&#x9012;</li>
<li>&#x53C2;&#x6570;&#x4F20;&#x9012;: java&#x6709;&#x4E14;&#x4EC5;&#x6709;&#x4E00;&#x79CD;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x673A;&#x5236;,&#x5373;&#x503C;&#x4F20;&#x9012;.</li>
</ul>
<h4 id="&#x4E0D;&#x96BE;&#x6709;&#x4EE5;&#x4E0B;&#x7591;&#x95EE;"><a href="#&#x4E0D;&#x96BE;&#x6709;&#x4EE5;&#x4E0B;&#x7591;&#x95EE;" class="headerlink" title="&#x4E0D;&#x96BE;&#x6709;&#x4EE5;&#x4E0B;&#x7591;&#x95EE;:"></a>&#x4E0D;&#x96BE;&#x6709;&#x4EE5;&#x4E0B;&#x7591;&#x95EE;:</h4><p> <big>&#x6211;&#x4EEC;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x7684;&#x5F15;&#x7528; &#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x540E;&#xFF0C;&#x7ED3;&#x679C;&#x8FD8;&#x662F;&#x4F1A;&#x6539;&#x53D8;.</big></p>
<ul>
<li><big>&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;&#x5728;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x4F1A;&#x5728;&#x6808;&#x4E2D;&#x4FDD;&#x5B58;&#x5728;&#x5806;&#x5185;&#x5B58;&#x6570;&#x636E;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x800C;&#x5728;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x628A;&#x6808;&#x4E2D;&#x7684;&#x5730;&#x5740;&#x503C;&#xFF0C;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#x4F20;&#x9012;&#x8FC7;&#x53BB;&#xFF0C;&#x8FD9;&#x4E2A;&#x526F;&#x672C;&#x4FDD;&#x5B58;&#x7684;&#x4E5F;&#x662F;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x8C61;&#x4F1A;&#x5728;&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x6539;&#x53D8;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x4ED6;&#x548C;&#x503C;&#x4F20;&#x9012;&#x4E00;&#x6837;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#xFF0C;&#x6240;&#x4EE5;java&#x53C2;&#x6570;&#x4F20;&#x9012;&#x4E5F;&#x662F;&#x503C;&#x4F20;&#x9012;&#x3002;&#x800C;&#x5F15;&#x7528;&#x4F20;&#x9012;&#x662F;&#x76F4;&#x63A5;&#x4F20;&#x9012;&#x5730;&#x5740;&#x503C;&#xFF0C;&#x4E0D;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x526F;&#x672C;</big></li>
</ul>
<p><big>&#x7531;&#x6B64;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#x5982;&#x4E0B;&#x7ED3;&#x8BBA;:</big></p>
<ul>
<li><p>&#x6309;&#x503C;&#x4F20;&#x9012;&#x610F;&#x5473;&#x7740;&#x5F53;&#x5C06;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x7684;&#x662F;&#x539F;&#x59CB;&#x503C;&#x7684;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#x3002;</p>
</li>
<li><p>&#x6309;&#x5F15;&#x7528;&#x4F20;&#x9012;&#x610F;&#x5473;&#x7740;&#x5F53;&#x5C06;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x7684;&#x662F;&#x539F;&#x59CB;&#x503C;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x503C;&#x7684;&#x526F;&#x672C;&#xFF0C;&#x5176;&#x5B9E;&#x5730;&#x5740;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x503C;</p>
</li>
</ul>
<p><big>&#x5176;&#x5B9E;&#x5173;&#x952E;&#x7684;&#x533A;&#x522B;&#x5C31;&#x5728;&#x4E8E;,&#x4F20;&#x9012;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x4E0D;&#x4F1A;&#x7528;&#x751F;&#x6210;&#x526F;&#x672C;,&#x751F;&#x6210;&#x526F;&#x672C;&#x5373;&#x4E3A;&#x503C;&#x4F20;&#x9012;,&#x4E0D;&#x751F;&#x6210;&#x5373;&#x4E3A;&#x5F15;&#x7528;&#x4F20;&#x9012;</big></p>
<h4 id="&#x7ED3;&#x5408;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x4F8B;&#x6765;&#x9A8C;&#x8BC1;&#x6211;&#x4EEC;&#x7684;&#x7ED3;&#x8BBA;"><a href="#&#x7ED3;&#x5408;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x4F8B;&#x6765;&#x9A8C;&#x8BC1;&#x6211;&#x4EEC;&#x7684;&#x7ED3;&#x8BBA;" class="headerlink" title="&#x7ED3;&#x5408;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x4F8B;&#x6765;&#x9A8C;&#x8BC1;&#x6211;&#x4EEC;&#x7684;&#x7ED3;&#x8BBA;"></a>&#x7ED3;&#x5408;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x4F8B;&#x6765;&#x9A8C;&#x8BC1;&#x6211;&#x4EEC;&#x7684;&#x7ED3;&#x8BBA;</h4><h5 id="&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x4F20;&#x9012;"><a href="#&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x4F20;&#x9012;" class="headerlink" title="&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x4F20;&#x9012;"></a>&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x4F20;&#x9012;</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span></div><div class="line">&#x3000;&#x3000;{</div><div class="line">&#x3000;&#x3000;  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">&#x3000;&#x3000;  {</div><div class="line">&#x3000;&#x3000;    StringBuffer s= <span class="keyword">new</span> StringBuffer(<span class="string">&quot;good&quot;</span>);</div><div class="line">&#x3000;&#x3000;    StringBuffer s2=s;</div><div class="line">&#x3000;&#x3000;    s2.append(<span class="string">&quot; afternoon.&quot;</span>);</div><div class="line">&#x3000;&#x3000;    System.out.println(s);</div><div class="line">&#x3000;&#x3000;  }</div><div class="line">&#x3000;&#x3000;}</div></pre></td></tr></table></figure>
<p><big>&#x5BF9;&#x8C61;s&#x548C;s2&#x6307;&#x5411;&#x7684;&#x662F;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x540C;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x56E0;&#x6B64;&#x6307;&#x5411;&#x7684;&#x4E5F;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;</big></p>
<p><big>&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7684;&#x8F93;&#x51FA;&#x662F;&#xFF1A;<code>good afternoon</code></big></p>
<p><big>&#x8FD9;&#x8BF4;&#x660E;s2&#x548C;s&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x70B9;&#x8981;&#x6F84;&#x6E05;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x4F20;&#x5BF9;&#x8C61;&#x5176;&#x5B9E;&#x4E5F;&#x662F;&#x4F20;&#x503C;&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6307;&#x9488;&#xFF0C;&#x8FD9;&#x4E2A;&#x8D4B;&#x503C;&#x662F;&#x6307;&#x9488;&#x4E4B;&#x95F4;&#x7684;&#x8D4B;&#x503C;&#xFF0C;&#x56E0;&#x6B64;&#x5728;java&#x4E2D;&#x5C31;&#x5C06;&#x5B83;&#x8BF4;&#x6210;&#x4E86;&#x4F20;&#x5F15;&#x7528;&#x3002;&#xFF08;&#x5F15;&#x7528;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E0D;&#x5C31;&#x662F;&#x5730;&#x5740;&#x5417;&#xFF1F;&#x5730;&#x5740;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x4E0D;&#x8FC7;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x503C;&#xFF09;</big></p>
<h5 id="&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x4F20;&#x9012;"><a href="#&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x4F20;&#x9012;" class="headerlink" title="&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x4F20;&#x9012;"></a>&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x4F20;&#x9012;</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x6539;&#x53D8;&#x53C2;&#x6570;&#x503C;&#x7684;&#x51FD;&#x6570;  </span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">changeValue</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{  </div><div class="line">x = x *<span class="number">2</span>;  </div><div class="line">}  </div><div class="line">... ...  </div><div class="line"><span class="comment">//&#x8C03;&#x7528;&#x8BE5;&#x51FD;&#x6570;  </span></div><div class="line"><span class="keyword">int</span> num = <span class="number">5</span>;  </div><div class="line">System.out.println(num);  </div><div class="line">changeValue(num);  </div><div class="line">System.out.println(num);</div></pre></td></tr></table></figure>
<p>&#x7B54;&#x6848;&#x663E;&#x800C;&#x6613;&#x89C1;&#xFF0C;&#x8C03;&#x7528;&#x51FD;&#x6570;changeValue()&#x524D;&#x540E;num&#x7684;&#x503C;&#x90FD;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#x3002;</p>
<p>num&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;changeValue()&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x662F;&#x5C06;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x4E2D;num&#x6240;&#x6307;&#x5411;&#x7684;&#x90A3;&#x4E2A;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x503C;&#xFF0C;&#x5373;&#x201D;5&#x201D;,&#x4F20;&#x9001;&#x7ED9;&#x4E86;changeValue()&#x65B9;&#x6CD5;&#x4E2D;&#x7684;x&#x53D8;&#x91CF;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;x&#x53D8;&#x91CF;&#x4E5F;&#x5728;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x4E2D;&#x5206;&#x914D;&#x4E86;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x5355;&#x5143;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x628A;num&#x7684;&#x503C;5&#x4F20;&#x9001;&#x7ED9;&#x4E86;&#x8FD9;&#x4E2A;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x3002;&#x6B64;&#x540E;&#xFF0C;&#x5728;changeValue()&#x65B9;&#x6CD5;&#x4E2D;&#x5BF9;x&#x7684;&#x4E00;&#x5207;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x9488;&#x5BF9;x&#x6240;&#x6307;&#x5411;&#x7684;&#x8FD9;&#x4E2A;&#x5B58;&#x50A8;&#x5355;&#x5143;&#xFF0C;&#x4E0E;num&#x6240;&#x6307;&#x5411;&#x7684;&#x90A3;&#x4E2A;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#x4E86;&#xFF01;</p>
<h4 id="&#x6700;&#x540E;&#x8981;&#x6CE8;&#x610F;&#xFF1A;String&#x7C7B;&#x578B;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x81EA;&#x8EAB;&#x4FEE;&#x6539;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x65B0;&#x751F;&#x6210;&#x4E00;&#x4E2A;String&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x7279;&#x6B8A;&#x5BF9;&#x5F85;&#x3002;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x4F20;&#x503C;&#x3002;"><a href="#&#x6700;&#x540E;&#x8981;&#x6CE8;&#x610F;&#xFF1A;String&#x7C7B;&#x578B;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x81EA;&#x8EAB;&#x4FEE;&#x6539;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x65B0;&#x751F;&#x6210;&#x4E00;&#x4E2A;String&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x7279;&#x6B8A;&#x5BF9;&#x5F85;&#x3002;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x4F20;&#x503C;&#x3002;" class="headerlink" title="&#x6700;&#x540E;&#x8981;&#x6CE8;&#x610F;&#xFF1A;String&#x7C7B;&#x578B;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x81EA;&#x8EAB;&#x4FEE;&#x6539;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x65B0;&#x751F;&#x6210;&#x4E00;&#x4E2A;String&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x7279;&#x6B8A;&#x5BF9;&#x5F85;&#x3002;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x4F20;&#x503C;&#x3002;"></a>&#x6700;&#x540E;&#x8981;&#x6CE8;&#x610F;&#xFF1A;String&#x7C7B;&#x578B;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x81EA;&#x8EAB;&#x4FEE;&#x6539;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x65B0;&#x751F;&#x6210;&#x4E00;&#x4E2A;String&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x7279;&#x6B8A;&#x5BF9;&#x5F85;&#x3002;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x4F20;&#x503C;&#x3002;</h4>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6CE8;&amp;#x660E;&amp;#x51FA;&amp;#x5904;:&lt;a href=&quot;http://leizh.net/&quot;&gt;http://leizh.net/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="java技术细节" scheme="http://qq451682583.github.io/categories/java%E6%8A%80%E6%9C%AF%E7%BB%86%E8%8A%82/"/>
    
    
      <category term="java" scheme="http://qq451682583.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>有return的情况下try catch finally的执行顺序</title>
    <link href="http://qq451682583.github.io/2016/10/13/%E6%9C%89return%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8Btry-catch-finally%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F/"/>
    <id>http://qq451682583.github.io/2016/10/13/有return的情况下try-catch-finally的执行顺序/</id>
    <published>2016-10-13T10:28:44.000Z</published>
    <updated>2017-07-10T09:24:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<h3 id="&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF1A;"><a href="#&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF1A;" class="headerlink" title="&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF1A;"></a>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF1A;</h3><ol>
<li><p>&#x4E0D;&#x7BA1;&#x6709;&#x6728;&#x6709;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#xFF0C;finally&#x5757;&#x4E2D;&#x4EE3;&#x7801;&#x90FD;&#x4F1A;&#x6267;&#x884C;&#xFF1B;</p>
</li>
<li><p>&#x5F53;try&#x548C;catch&#x4E2D;&#x6709;return&#x65F6;&#xFF0C;finally&#x4ECD;&#x7136;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#x624D;&#x4F1A;&#x6267;&#x884C;return&#xFF1B;</p>
</li>
<li><p>finally&#x4E2D;&#x6700;&#x597D;&#x4E0D;&#x8981;&#x5305;&#x542B;return&#xFF0C;&#x5426;&#x5219;&#x7A0B;&#x5E8F;&#x4F1A;&#x63D0;&#x524D;&#x9000;&#x51FA;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x4E0D;&#x662F;try&#x6216;catch&#x4E2D;&#x4FDD;&#x5B58;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
</li>
<li><p>&#x6839;&#x636E;&#x7B2C;&#x4E8C;&#x70B9;,finally&#x4E2D;&#x6709;return&#x4F1A;&#x5403;&#x6389;&#x5F02;&#x5E38;&#x7684;,finally&#x4E2D;&#x7684;return &#x4F1A;&#x5148;&#x6267;&#x884C;</p>
</li>
</ol>
<h3 id="&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;"><a href="#&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;" class="headerlink" title="&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;"></a>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;</h3><p>try&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5728;&#x6267;&#x884C;return&#x8BED;&#x53E5;&#x65F6;&#xFF0C;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x4E86;&#xFF0C;&#x5C31;&#x5728;&#x6B64;&#x65F6;&#xFF0C;&#x7A0B;&#x5E8F;&#x8F6C;&#x5230;finally&#x6267;&#x884C;&#x4E86;&#x3002;</p>
<p>&#x5728;&#x8F6C;&#x53BB;&#x4E4B;&#x524D;&#xFF0C;try&#x4E2D;&#x5148;&#x628A;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5B58;&#x653E;&#x5230;&#x4E0D;&#x540C;&#x4E8E;&#x539F;&#x5148;&#x53D8;&#x91CF;x&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x4E2D;&#x53BB;&#xFF0C;&#x6267;&#x884C;&#x5B8C;finally&#x4E4B;&#x540E;&#xFF0C;&#x5728;&#x4ECE;&#x4E4B;&#x524D;&#x4FDD;&#x5B58;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x4E2D;&#x53D6;&#x51FA;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x5373;&#x4F7F;finally&#x4E2D;&#x5BF9;&#x53D8;&#x91CF;x&#x8FDB;&#x884C;&#x4E86;&#x6539;&#x53D8;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C; &#x9700;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x4E0D;&#x662F;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#xFF0C;&#x662F;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x662F;&#x4F1A;&#x6539;&#x53D8;&#x7684;&#x3002;&#x4E0B;&#x6587;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;</p>
<h3 id="&#x7ED3;&#x8BBA;&#xFF1A;"><a href="#&#x7ED3;&#x8BBA;&#xFF1A;" class="headerlink" title="&#x7ED3;&#x8BBA;&#xFF1A;"></a>&#x7ED3;&#x8BBA;&#xFF1A;</h3><ol>
<li>&#x5F71;&#x54CD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x524D;&#x63D0;&#x662F;&#x5728; &#x975E; finally &#x8BED;&#x53E5;&#x5757;&#x4E2D;&#x6709; return &#x4E14;&#x975E;&#x57FA;&#x672C;&#x7C7B;&#x578B;</li>
<li>&#x4E0D;&#x5F71;&#x54CD;&#x8FD4;&#x56DE;&#x7ED3;&#x679C; &#x7684;&#x524D;&#x63D0;&#x662F; &#x975E; finally &#x5757;&#x4E2D;&#x6709;return &#x4E14;&#x4E3A;&#x57FA;&#x672C;&#x7C7B;&#x578B;</li>
</ol>
<p>&#x7A76;&#x5176;&#x672C;&#x8D28; &#x57FA;&#x672C;&#x7C7B;&#x578B;&#x5728;&#x6808;&#x4E2D;&#x5B58;&#x50A8;,&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x771F;&#x5B9E;&#x7684;&#x503C;,&#x800C;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5176;&#x6D45;&#x62F7;&#x8D1D;&#x5806;&#x5730;&#x5740;.&#x6240;&#x4EE5;&#x624D;&#x4F1A;&#x6539;&#x53D8;~,&#x4F46;&#x662F;&#xFF0C;&#x7ECF;&#x6D4B;&#x8BD5;date&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x4E5F;&#x662F;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;date&#x7C7B;&#x5B9E;&#x73B0;&#x4E86;serializable&#x5E8F;&#x5217;&#x5316;&#x63A5;&#x53E3;&#xFF0C;&#x5229;&#x7528;&#x5BF9;&#x8C61;&#x5E8F;&#x5217;&#x5316;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5BF9;&#x8C61;&#x7684;&#x201D;&#x6DF1;&#x590D;&#x5236;&#x201D;&#xFF0C;&#x5373;&#x590D;&#x5236;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x53CA;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x3002;&#x6240;&#x4EE5;&#x548C;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7C7B;&#x4F3C;&#xFF0C;try&#x4E2D;&#x526F;&#x672C;&#x7684;&#x5730;&#x5740;&#x548C;&#x4E4B;&#x540E;&#x5728;finally&#x4E2D;&#x4FEE;&#x6539;&#x7684;&#x503C;&#x5F97;&#x5730;&#x5740;&#x4E0D;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x3002;</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6CE8;&amp;#x660E;&amp;#x51FA;&amp;#x5904;:&lt;a href=&quot;http://leizh.net/&quot;&gt;http://leizh.net/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="java技术细节" scheme="http://qq451682583.github.io/categories/java%E6%8A%80%E6%9C%AF%E7%BB%86%E8%8A%82/"/>
    
    
      <category term="技术细节" scheme="http://qq451682583.github.io/tags/%E6%8A%80%E6%9C%AF%E7%BB%86%E8%8A%82/"/>
    
  </entry>
  
  <entry>
    <title>拆轮子之ButterKnife &amp; Dagger 2</title>
    <link href="http://qq451682583.github.io/2016/09/01/%E6%8B%86%E8%BD%AE%E5%AD%90%E4%B9%8BButterKnife-Dagger-2/"/>
    <id>http://qq451682583.github.io/2016/09/01/拆轮子之ButterKnife-Dagger-2/</id>
    <published>2016-09-01T11:36:16.000Z</published>
    <updated>2016-09-01T11:38:14.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="拆轮子系列" scheme="http://qq451682583.github.io/categories/%E6%8B%86%E8%BD%AE%E5%AD%90%E7%B3%BB%E5%88%97/"/>
    
    
      <category term="ButterKnife" scheme="http://qq451682583.github.io/tags/ButterKnife/"/>
    
      <category term="Dagger 2" scheme="http://qq451682583.github.io/tags/Dagger-2/"/>
    
  </entry>
  
  <entry>
    <title>拒绝糟糕的代码</title>
    <link href="http://qq451682583.github.io/2016/08/24/%E6%8B%92%E7%BB%9D%E7%B3%9F%E7%B3%95%E7%9A%84%E4%BB%A3%E7%A0%81/"/>
    <id>http://qq451682583.github.io/2016/08/24/拒绝糟糕的代码/</id>
    <published>2016-08-24T02:21:44.000Z</published>
    <updated>2017-07-10T09:25:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<p><big> &#x901A;&#x5E38;&#x6211;&#x4EEC;&#x5728;&#x904D;&#x5386;&#x4E00;&#x4E2A;list&#x7684;&#x65F6;&#x5019;,&#x4F1A;&#x81EA;&#x7136;&#x7684;&#x8FD9;&#x4E48;&#x5199;:</big></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleAList</span><span class="params">(List&lt;Integer&gt; aList)</span> </span>{</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; aList.size(); ++i) {</div><div class="line">            <span class="comment">// Do sth with List#get(int)</span></div><div class="line">        }</div><div class="line">    }</div></pre></td></tr></table></figure>
<p>&#x601D;&#x8003;&#x8FD9;&#x6837;&#x505A;&#x4F1A;&#x6709;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x5417;?&#x95EE;&#x9898;&#x663E;&#x7136;&#x662F;&#x7531;&#x7684;,&#x5206;&#x6790;:</p>
<p>&#x5047;&#x5982;&#x5916;&#x9762;&#x4F20;&#x5165;&#x7684;aList&#x662F;&#x4E00;&#x4E2A;ArrayList&#xFF0C;&#x90A3;&#x4E48;List.get(int)&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F;O(1)&#xFF0C;&#x7B97;&#x4E0A;&#x5916;&#x9762;&#x90A3;&#x91CD;&#x5FAA;&#x73AF;&#x5219;&#x662F;O(n)&#xFF1B;&#x800C;&#x5047;&#x5982;aList&#x662F;&#x4E00;&#x4E2A;LinkedList&#xFF0C;&#x90A3;&#x4E48;List.get(int)&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F;O(n)&#xFF0C;&#x7B97;&#x4E0A;&#x5916;&#x9762;&#x90A3;&#x91CD;&#x5FAA;&#x73AF;&#x5219;&#x662F;O(n2&#xFF09;&#xFF01;</p>
<p>&#x8FD9;&#x4E2A;&#x590D;&#x6742;&#x5EA6;&#x663E;&#x7136;&#x662F;&#x4E0D;&#x80FD;&#x63A5;&#x53D7;&#x7684;&#xFF1B;&#x5982;&#x679C;&#x601D;&#x8003;&#x5F97;&#x591F;&#x5145;&#x5206;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x90FD;&#x6709;&#x53EF;&#x80FD;&#xFF0C;&#x90A3;&#x4E48;&#x4EE3;&#x7801;&#x5C31;&#x4F1A;&#x505A;&#x517C;&#x5BB9;&#x5904;&#x7406;&#xFF0C;&#x6539;&#x6210;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleAList</span><span class="params">(List&lt;Integer&gt; aList)</span> </span>{</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : aList) {</div><div class="line">            <span class="comment">// Do sth with i</span></div><div class="line">        }</div><div class="line">    }</div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4F7F;&#x7528;&#x4E86;for-each&#x8BED;&#x6CD5;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x7528;Iterator&#x6765;&#x505A;&#x904D;&#x5386;&#xFF0C;&#x65E0;&#x8BBA;&#x5BF9;&#x54EA;&#x79CD;List&#x90FD;&#x662F;&#x603B;&#x5171;&#x662F;O(n)&#x7684;&#x5F00;&#x9500;&#x3002;</p>
<p><big>&#x56DE;&#x987E;&#x4E00;&#x4E0B;:</big></p>
<p>foreach&#x5BF9;&#x4E8E;&#x5143;&#x7D20;&#x6301;&#x6709;&#x5BF9;&#x8C61;&#x6765;&#x8BF4;&#xFF0C;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;Iterable&#x63A5;&#x53E3;&#x3002;&#x8FD9;&#x91CC;Set&#xFF0C; List&#xFF0C;Queue&#x90FD;&#x7EE7;&#x627F;Collection&#x63A5;&#x53E3;&#xFF0C;&#x800C;Colleciton&#x63A5;&#x53E3;&#x7EE7;&#x627F;&#x4E0E;Iterable&#xFF0C;&#x6240;&#x4EE5;Java&#x5E93;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;Set&#x7C7B;&#xFF0C;List&#x7C7B;&#xFF0C;Queue&#x7C7B;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;foreach&#x6765;&#x904D;&#x5386;&#x6301;&#x6709;&#x7684;&#x5143;&#x7D20;&#x3002;</p>
<p>&#x6BD4;&#x8F83;&#x7279;&#x522B;&#x7684;&#x662F;foreach&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5BF9;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6570;&#x7EC4;&#x548C;String&#x6570;&#x7EC4;&#x7684;&#x904D;&#x5386;&#x3002;</p>
<p><big>&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;:</big></p>
<p>for-each&#x65E0;&#x6CD5;&#x505A;&#x5230;&#x5F15;&#x7528;&#x6570;&#x7EC4;&#x6216;&#x8005;&#x96C6;&#x5408;&#x7684;&#x7D22;&#x5F15;,&#x4EE5;&#x53CA;&#x4FEE;&#x6539;&#x6570;&#x7EC4;&#x7684;&#x503C;,&#x56E0;&#x4E3A;&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x7528;Iterator&#x6765;&#x904D;&#x5386;&#x7684;,foreach&#x91CC;&#x7684;i&#x53D8;&#x91CF;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x662F;&#x96C6;&#x5408;&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x5143;&#x7D20;&#x672C;&#x8EAB;,&#x56E0;&#x6B64;&#x4FEE;&#x6539;&#x662F;&#x4E0D;&#x6210;&#x529F;&#x7684;.&#x4E0B;&#x9762;&#x770B;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (Integer temp : list)</div><div class="line">{</div><div class="line">    <span class="keyword">if</span> (temp == <span class="number">1</span>)</div><div class="line">    {</div><div class="line">        temp = temp * <span class="number">2</span>;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5E0C;&#x671B;&#x4FEE;&#x6539;list&#x4E2D;&#x5143;&#x7D20;&#x503C;&#x4E3A;1&#x7684;&#x4F4D;&#x7F6E;&#x7684;&#x503C;,&#x6539;&#x4E3A;2. &#x901A;&#x8FC7;&#x4E0A;&#x8FF0;&#x7684;&#x5206;&#x6790; ,&#x8FD9;&#x4E48;&#x505A;&#x662F;&#x4E0D;&#x6210;&#x529F;&#x7684;,&#x5177;&#x4F53;&#x5206;&#x6790;&#x5982;&#x4E0B;:</p>
<p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x7FFB;&#x8BD1;&#x5982;&#x4E0B;:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (Iterator i = list.iterator(); i.hasNext(); )</div><div class="line">{</div><div class="line">    <span class="keyword">float</span> i0 = (Integer)i.next();</div><div class="line">        <span class="keyword">if</span>(i0 == <span class="number">1</span>)</div><div class="line">          i0 = i0*<span class="number">2</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
<p>foreach&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x5982;&#x4E0B; ,&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x901A;&#x8FC7;next()&#x62FF;&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7ED9;&#x4E86;i0,&#x4E4B;&#x540E;&#x7684;&#x4FEE;&#x6539;&#x4E5F;&#x53EA;&#x662F;&#x4FEE;&#x6539;&#x4E86;i0,&#x800C;next()&#x503C;&#x6CA1;&#x53D8;,&#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x51FA;foreach&#x7684;Iterator&#x53D8;&#x91CF;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(n).</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6CE8;&amp;#x660E;&amp;#x51FA;&amp;#x5904;:&lt;a href=&quot;http://leizh.net/&quot;&gt;http://leizh.net/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="代码习惯" scheme="http://qq451682583.github.io/categories/%E4%BB%A3%E7%A0%81%E4%B9%A0%E6%83%AF/"/>
    
    
      <category term="代码习惯" scheme="http://qq451682583.github.io/tags/%E4%BB%A3%E7%A0%81%E4%B9%A0%E6%83%AF/"/>
    
  </entry>
  
  <entry>
    <title>创建和销毁对象</title>
    <link href="http://qq451682583.github.io/2016/08/23/%E5%88%9B%E5%BB%BA%E5%92%8C%E9%94%80%E6%AF%81%E5%AF%B9%E8%B1%A1/"/>
    <id>http://qq451682583.github.io/2016/08/23/创建和销毁对象/</id>
    <published>2016-08-23T13:09:56.000Z</published>
    <updated>2016-08-23T13:14:54.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="Effective Java" scheme="http://qq451682583.github.io/categories/Effective-Java/"/>
    
    
      <category term="Effective Java" scheme="http://qq451682583.github.io/tags/Effective-Java/"/>
    
  </entry>
  
  <entry>
    <title>记一次透明Dialog的实现</title>
    <link href="http://qq451682583.github.io/2016/07/17/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%80%8F%E6%98%8EDialog%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <id>http://qq451682583.github.io/2016/07/17/记一次透明Dialog的实现/</id>
    <published>2016-07-17T13:21:13.000Z</published>
    <updated>2017-07-10T09:24:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<h2 id="&#x9700;&#x6C42;"><a href="#&#x9700;&#x6C42;" class="headerlink" title="&#x9700;&#x6C42;"></a>&#x9700;&#x6C42;</h2><p><font size="4">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x63D0;&#x793A;&#x7528;&#x6237;&#x6709;&#x65B0;&#x7248;&#x672C;&#x66F4;&#x65B0;&#x7684;&#x63D0;&#x793A;&#x6846;,&#x770B;&#x7684;&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#x56FE;,&#x6211;&#x4EEC;&#x9996;&#x5148;&#x60F3;&#x5230;&#x7684;&#x662F;&#x7528;Dialog&#x6765;&#x5B9E;&#x73B0;&#x5B83;,&#x56E0;&#x4E3A;&#x6211;&#x4E2A;&#x4EBA;&#x63A5;&#x89E6;UI&#x5F00;&#x53D1;&#x90E8;&#x591A;,&#x6240;&#x4EE5;&#x5728;&#x6211;&#x773C;&#x4E2D;&#x5C0F;&#x706B;&#x7BAD;&#x5934;&#x90E8;&#x4FDD;&#x6301;&#x900F;&#x660E;&#x82B1;&#x8D39;&#x4E86;&#x4E0D;&#x5C11;&#x65F6;&#x95F4;,&#x56E0;&#x6B64;&#x5199;&#x4E0B;&#x6765;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;.</font></p>
<h2 id="&#x5B9E;&#x73B0;"><a href="#&#x5B9E;&#x73B0;" class="headerlink" title="&#x5B9E;&#x73B0;"></a>&#x5B9E;&#x73B0;</h2><p><font size="4">&#x9996;&#x5148;UI&#x7ED9;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x56FE;,&#x987A;&#x4FBF;&#x90E8;&#x5206;&#x900F;&#x660E;&#x7684;&#x706B;&#x7BAD;&#x56FE;&#x7247;&#x4E5F;&#x662F;&#x4E0D;&#x53EF;&#x6216;&#x7F3A;&#x7684;.</font></p>
<p><font size="4">&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x7740;&#x624B;&#x5F00;&#x53D1;&#x4E86;..</font></p>
<p><font size="4">&#x5927;&#x6982;&#x601D;&#x8DEF;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x662F;&#x91C7;&#x7528;&#x7684;&#x4E00;&#x4E2A;Dialog&#x98CE;&#x683C;&#x7684;Activity&#x6765;&#x5B9E;&#x73B0;&#x7684;,&#x5176;&#x4E2D;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x5C31;&#x662F;DialogStyle&#x7684;&#x4FEE;&#x6539;,&#x4EE5;&#x53CA;Activity&#x7684;&#x663E;&#x793A;&#x4F4D;&#x7F6E;.</font></p>
<p><font size="4">&#x9996;&#x5148;&#x770B;Activity&#x7684;&#x58F0;&#x660E;:</font></p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;activity</div><div class="line">          android:name=&quot;.appstart.UpgradeDialogActivity&quot;</div><div class="line">          android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;</div><div class="line">          android:screenOrientation=&quot;portrait&quot;</div><div class="line">          android:theme=&quot;@style/MyStyle&quot; &gt;</div><div class="line">      &lt;/activity&gt;</div></pre></td></tr></table></figure>
<p>  <font size="4">&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;,&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x5B83;&#x7684;Theme&#x4E3A;MyStyle,&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x770B;&#x8FD9;&#x4E2A;Style&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;:</font></p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;style name=&quot;MyStyle&quot; parent=&quot;Theme.AppCompat.Dialog&quot;&gt;</div><div class="line">      &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;&lt;!-- &#x9690;&#x85CF;actionbar --&gt;</div><div class="line">      &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;</div><div class="line">      &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt; &lt;!--&#x8868;&#x793A;&#x6D6E;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x6574;&#x4E2A;layout&#x5C31;&#x4F1A;&#x5728; &#x5C4F;&#x5E55;&#x4E2D;&#x5FC3;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x6D6E;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x53EA;&#x9002;&#x7528;&#x4E8E;dialog --&gt;</div><div class="line">      &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;</div><div class="line"></div><div class="line">      &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;&lt;!-- &#x662F;&#x5426;&#x534A;&#x900F;&#x660E; --&gt;</div><div class="line">      &lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@android:style/Animation.Translucent&lt;/item&gt;</div><div class="line">      &lt;!-- &#x662F;&#x5426;&#x5141;&#x8BB8;&#x80CC;&#x666F;&#x6A21;&#x7CCA; --&gt;</div><div class="line">      &lt;item name=&quot;android:backgroundDimEnabled&quot;&gt;true&lt;/item&gt;</div><div class="line">      &lt;!-- &#x662F;&#x5426;&#x5141;&#x8BB8;&#x70B9;&#x51FB;&#x5916;&#x90E8;&#x6D88;&#x5931; --&gt;</div><div class="line">      &lt;item name=&quot;android:windowCloseOnTouchOutside&quot;&gt;false&lt;/item&gt;</div><div class="line"></div><div class="line">      &lt;!-- &#x7528;&#x6765;&#x63A7;&#x5236;&#x7070;&#x5EA6;&#x7684;&#x503C;&#xFF0C;&#x5F53;&#x4E3A;1&#x65F6;&#xFF0C;&#x754C;&#x9762;&#x9664;&#x4E86;&#x6211;&#x4EEC;&#x7684;dialog&#x5185;&#x5BB9;&#x662F;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x7684;&#xFF0C;dialog&#x4EE5;&#x5916;&#x7684;&#x533A;&#x57DF;&#x662F;&#x9ED1;&#x8272;&#x7684;&#xFF0C;&#x5B8C;&#x5168;&#x770B;&#x4E0D;&#x5230;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#xFF0C;&#x7CFB;&#x7EDF;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;0.5&#xFF0C;&#x800C;&#x5DF2;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x8981;&#x8C03;&#x6574; --&gt;</div><div class="line">      &lt;item name=&quot;android:backgroundDimAmount&quot;&gt;0.7&lt;/item&gt;</div><div class="line">      &lt;! --&#x8BBE;&#x7F6E;&#x7A97;&#x4F53;&#x5185;&#x5BB9;&#x80CC;&#x666F; --&gt;</div><div class="line">      &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;</div><div class="line">  &lt;/style&gt;</div></pre></td></tr></table></figure>
<p><font size="4">&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6B63;&#x597D;&#x603B;&#x7ED3;&#x4E0B;&#x5173;&#x4E8E;Window&#x7684;&#x4E00;&#x4E9B;&#x4F7F;&#x7528;:</font></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;item name=&quot;windowBackground&quot;&gt; &#x7A97;&#x4F53;&#x7684;&#x80CC;&#x666F; &lt;/item&gt;</div><div class="line">&lt;item name=&quot;windowFrame&quot;&gt;Dialog &#x662F;&#x5426;&#x6709;&#x8FB9;&#x6846; &lt;/item&gt;</div><div class="line">&lt;item name=&quot;windowNoTitle&quot;&gt;&#x7A97;&#x4F53;&#x662F;&#x5426;&#x6709;&#x6807;&#x9898;&lt;/item&gt;</div><div class="line">&lt;item name=&quot;windowFullscreen&quot;&gt;false&lt;/item&gt;        &#x662F;&#x5426;&#x4E3A;&#x5168;&#x5C4F;</div><div class="line">&lt;item name=&quot;windowOverscan&quot;&gt;false&lt;/item&gt;          &#x662F;&#x5426;&#x8981;&#x6C42;&#x7A97;&#x4F53;&#x94FA;&#x6EE1;&#x6574;&#x5C4F;&#x5E55;               </div><div class="line">&lt;item name=&quot;windowIsFloating&quot;&gt;false&lt;/item&gt;        &#x7A97;&#x4F53;&#x662F;&#x5426;&#x6D6E;&#x5728;&#x4E0B;&#x5C42;&#x4E4B;&#x4E0A;</div><div class="line">&lt;item name=&quot;windowContentOverlay&quot;&gt;@null&lt;/item&gt;    &#x8BBE;&#x7F6E;&#x7A97;&#x4F53;&#x5185;&#x5BB9;&#x80CC;&#x666F;</div><div class="line">&lt;item name=&quot;windowShowWallpaper&quot;&gt;false&lt;/item&gt;     &#x662F;&#x5426;&#x663E;&#x793A;&#x58C1;&#x7EB8;</div><div class="line">&lt;item name=&quot;windowTitleStyle&quot;&gt;@android :style/WindowTitle&lt;/item&gt;        &#x7A97;&#x4F53;&#x7684;&#x6807;&#x9898;&#x680F;Style</div><div class="line">&lt;item name=&quot;windowTitleSize&quot;&gt;25dip&lt;/item&gt;                              &#x7A97;&#x4F53;&#x6587;&#x5B57;&#x5927;&#x5C0F;</div><div class="line"></div><div class="line"> &#x7A97;&#x4F53;&#x6807;&#x9898;&#x680F;&#x80CC;&#x666F;</div><div class="line">&lt;item name=&quot;windowTitleBackgroundStyle&quot;&gt;@android :style/WindowTitleBackground&lt;/item&gt;            &#x7A97;&#x4F53;&#x5207;&#x6362;&#x65F6;&#x7684;&#x52A8;&#x753B;&#x6837;&#x5F0F;</div><div class="line">&lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@android :style/Animation.Activity&lt;/item&gt;</div><div class="line"></div><div class="line"> &#x5728;&#x4F7F;&#x7528;&#x8F93;&#x5165;&#x6CD5;&#x65F6;&#x7A97;&#x4F53;&#x7684;&#x9002;&#x914D;</div><div class="line">&lt;item name=&quot;android:windowSoftInputMode&quot;&gt;stateUnspecified|adjustUnspecified&lt;/item&gt;</div><div class="line">&lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;                    &#x662F;&#x5426;&#x6253;&#x5F00;ActionBar</div><div class="line">&lt;item name=&quot;windowActionModeOverlay&quot;&gt;false&lt;/item&gt;            &#x8FD9;&#x4E2A;&#x6682;&#x65F6;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x795E;&#x80FD;&#x56DE;&#x7B54;&#x4E00;&#x4E0B;&#x3002;</div><div class="line">&lt;item name=&quot;windowCloseOnTouchOutside&quot;&gt;false&lt;/item&gt;          &#x662F;&#x5426;&#x518D;&#x70B9;&#x51FB;&#x5916;&#x90E8;&#x53EF;&#x5173;&#x95ED;</div><div class="line"></div><div class="line">&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;    &#x7A97;&#x4F53;&#x662F;&#x5426;&#x534A;&#x900F;&#x660E;</div><div class="line">&lt;item name=&quot;android:backgroundDimEnabled&quot;&gt;false&lt;/item&gt;: &#x80CC;&#x666F;&#x662F;&#x5426;&#x6A21;&#x7CCA;&#x663E;&#x793A;</div><div class="line"></div><div class="line">&lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;  &#x81EA;&#x5B9A;&#x4E49;Titlebar&#x65F6;&#x53BB;&#x6389;&#x591A;&#x4F59;&#x7684;&#x9634;&#x5F71;&#x3002;</div></pre></td></tr></table></figure>
<p><font size="4">&#x6700;&#x540E;&#x4E00;&#x6B65;&#x5728;&#x6211;&#x4EEC;&#x5BF9;&#x5E94;&#x7684;Activity&#x4EE3;&#x7801;&#x4E2D;&#x6307;&#x5B9A;&#x663E;&#x793A;&#x4F4D;&#x7F6E;&#x548C;&#x5927;&#x5C0F;:</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">  <span class="comment">//display&#x5BF9;&#x8C61;&#x83B7;&#x53D6;&#x5C4F;&#x5E55;&#x7684;&#x5BBD;&#x9AD8;</span></div><div class="line">Display dis = getWindowManager().getDefaultDisplay();</div><div class="line"><span class="comment">//&#x8C03;&#x6574;&#x5F39;&#x51FA;&#x6846;&#x4F4D;&#x7F6E;</span></div><div class="line">Window win = getWindow();</div><div class="line">win.getDecorView().setPadding(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">WindowManager.LayoutParams lp = win.getAttributes();</div><div class="line">lp.width = dp2px(<span class="number">285</span>);<span class="comment">//&#x81EA;&#x5B9A;&#x4E49;&#x5BBD;&#x5EA6;</span></div><div class="line">lp.height = WindowManager.LayoutParams.WRAP_CONTENT;</div><div class="line">lp.gravity = Gravity.CENTER;<span class="comment">//&#x4F4D;&#x7F6E;</span></div><div class="line">ColorDrawable dw = <span class="keyword">new</span> ColorDrawable(<span class="number">0000000000</span>);<span class="comment">//&#x80CC;&#x666F;&#x8BBE;&#x7F6E;&#x5168;&#x900F;&#x660E;</span></div><div class="line">win.setBackgroundDrawable(dw);</div><div class="line">win.setAttributes(lp);</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dp2px</span><span class="params">(<span class="keyword">int</span> dp)</span> </span>{</div><div class="line"><span class="keyword">return</span> (<span class="keyword">int</span>) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, dp,</div><div class="line">		getResources().getDisplayMetrics());</div><div class="line"> }</div></pre></td></tr></table></figure>
<p><font size="4">ok,&#x81F3;&#x6B64;&#x6211;&#x4EEC;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x56FE;&#x4E2D;&#x7684;&#x6548;&#x679C;&#x5566;.</font></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6CE8;&amp;#x660E;&amp;#x51FA;&amp;#x5904;:&lt;a href=&quot;http://leizh.net/&quot;&gt;http://leizh.net/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://qq451682583.github.io/categories/Android/"/>
    
    
      <category term="Android" scheme="http://qq451682583.github.io/tags/Android/"/>
    
      <category term="Dialog" scheme="http://qq451682583.github.io/tags/Dialog/"/>
    
  </entry>
  
  <entry>
    <title>优雅的使用PopWindow</title>
    <link href="http://qq451682583.github.io/2016/07/17/%E4%BC%98%E9%9B%85%E7%9A%84%E4%BD%BF%E7%94%A8PopWindow/"/>
    <id>http://qq451682583.github.io/2016/07/17/优雅的使用PopWindow/</id>
    <published>2016-07-17T13:16:21.000Z</published>
    <updated>2017-07-10T09:24:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;:<a href="http://leizh.net/" target="_blank" rel="external">http://leizh.net/</a><br><a id="more"></a></p>
<p><font size="4">&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#x56FE;,&#x6211;&#x4EEC;&#x8981;&#x505A;&#x7684;&#x5176;&#x5B9E;&#x5F88;&#x7B80;&#x5355;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;PopWindow,&#x4E4B;&#x540E;&#x5C31;&#x662F;&#x753B;&#x5E03;&#x5C40;,coding&#x5566;.&#x5176;&#x4E2D;&#x7A0D;&#x5FAE;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x5C31;&#x662F;&#x5F39;&#x51FA;&#x6846;&#x7684;&#x4F4D;&#x7F6E;,&#x4EE5;&#x53CA;&#x9002;&#x914D;&#x7684;&#x95EE;&#x9898;,&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x4E2D;5&#x4E2A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x9700;&#x8981;&#x5728;Activity&#x4E2D;&#x54CD;&#x5E94;,&#x5982;&#x679C;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x4E5F;&#x5728;popwindow&#x4E2D;&#x5B9E;&#x73B0;&#x7684;&#x8BDD;&#x4F1A;&#x6BD4;&#x8F83;&#x7E41;&#x7410;,&#x4EE3;&#x7801;&#x4E5F;&#x4E0D;&#x5BB9;&#x6613;&#x9605;&#x8BFB;,&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x7528;&#x4E00;&#x79CD;&#x4F18;&#x96C5;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;.</font></p>
<p><font size="4">&#x5177;&#x4F53;&#x7684;&#x601D;&#x8DEF;:&#x9488;&#x5BF9;popwindow&#x7684;&#x5404;&#x4E2A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x8BBE;&#x7F6E;&#x76F8;&#x5E94;&#x7684;&#x63A5;&#x53E3;,&#x7136;&#x540E;&#x5728;Activty&#x4E2D;&#x5B9E;&#x73B0;&#x8FD9;&#x4E9B;&#x63A5;&#x53E3;,&#x6700;&#x540E;&#x5728;&#x6CE8;&#x518C;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x4E2D;&#x53BB;.</font></p>
<p><font size="4">&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;:</font></p>
<p><font size="4">&#x5E03;&#x5C40;&#x6CA1;&#x4EC0;&#x4E48;&#x53EF;&#x770B;&#x7684;,&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x770B;PopWindow&#x5B9E;&#x73B0;:</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShopLeftPopupWindow</span> <span class="keyword">extends</span> <span class="title">PopupWindow</span> <span class="keyword">implements</span> <span class="title">Handler</span>.<span class="title">Callback</span> </span>{</div><div class="line">  <span class="keyword">private</span> Activity context;</div><div class="line">	<span class="keyword">private</span> View mMenuView;</div><div class="line">	<span class="keyword">private</span> LinearLayout mEdit;</div><div class="line">	<span class="keyword">private</span> LinearLayout mDrop;</div><div class="line">	<span class="keyword">private</span> LinearLayout mDelete;</div><div class="line">	<span class="keyword">private</span> LinearLayout mShare;</div><div class="line">	<span class="keyword">private</span> LinearLayout mUp;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> deleteListener deleteListener;<span class="comment">//&#x5220;&#x9664;&#x670D;&#x52A1;&#x76D1;&#x542C;</span></div><div class="line">	<span class="keyword">private</span> upListener upListener;<span class="comment">//&#x4E0A;&#x67B6;&#x76D1;&#x542C;</span></div><div class="line">	<span class="keyword">private</span> dropAndOnListener doListener;<span class="comment">//&#x4E0A;&#x67B6;&#x76D1;&#x542C;</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ShopLeftPopupWindow</span><span class="params">(Activity context,Boolean isSell)</span> </span>{</div><div class="line">		<span class="keyword">super</span>(context);</div><div class="line">		<span class="keyword">this</span>.context=context;</div><div class="line">		LayoutInflater inflater = (LayoutInflater) context</div><div class="line">				.getSystemService(Context.LAYOUT_INFLATER_SERVICE);</div><div class="line">		mMenuView = inflater.inflate(R.layout.shop_popup_window, <span class="keyword">null</span>);</div><div class="line"></div><div class="line">		mEdit = (LinearLayout) mMenuView.findViewById(R.id.shop_edit);</div><div class="line">		mDrop = (LinearLayout) mMenuView.findViewById(R.id.shop_drop);</div><div class="line">		mDelete = (LinearLayout) mMenuView.findViewById(R.id.shop_delete);</div><div class="line">		mShare = (LinearLayout) mMenuView.findViewById(R.id.shop_share);</div><div class="line">		mUp = (LinearLayout) mMenuView.findViewById(R.id.shop_up);</div><div class="line">		mShopText = (TextView) mMenuView.findViewById(R.id.shop_text);</div><div class="line">		mShopImg = (ImageView) mMenuView.findViewById(R.id.shop_image);</div><div class="line">		}</div><div class="line"></div><div class="line">		initAction();<span class="comment">//&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x5904;&#x7406;</span></div><div class="line"></div><div class="line">		<span class="keyword">int</span> h = context.getWindowManager().getDefaultDisplay().getHeight();</div><div class="line">		<span class="keyword">int</span> w = context.getWindowManager().getDefaultDisplay().getWidth();</div><div class="line">		<span class="comment">// &#x8BBE;&#x7F6E;&#x6309;&#x94AE;&#x76D1;&#x542C;</span></div><div class="line">		<span class="comment">// &#x8BBE;&#x7F6E;SelectPicPopupWindow&#x7684;View</span></div><div class="line">		<span class="keyword">this</span>.setContentView(mMenuView);</div><div class="line">		<span class="comment">// &#x8BBE;&#x7F6E;SelectPicPopupWindow&#x5F39;&#x51FA;&#x7A97;&#x4F53;&#x7684;&#x5BBD;</span></div><div class="line">		<span class="keyword">this</span>.setWidth(LayoutParams.WRAP_CONTENT);</div><div class="line">		<span class="comment">// &#x8BBE;&#x7F6E;SelectPicPopupWindow&#x5F39;&#x51FA;&#x7A97;&#x4F53;&#x7684;&#x9AD8;</span></div><div class="line">		<span class="keyword">this</span>.setHeight(LayoutParams.WRAP_CONTENT);</div><div class="line">		<span class="comment">// &#x8BBE;&#x7F6E;SelectPicPopupWindow&#x5F39;&#x51FA;&#x7A97;&#x4F53;&#x53EF;&#x70B9;&#x51FB;</span></div><div class="line">		<span class="keyword">this</span>.setFocusable(<span class="keyword">true</span>);</div><div class="line"><span class="comment">//		this.setAnimationStyle(R.style.popWindowAnimation);</span></div><div class="line">		<span class="comment">// &#x8BBE;&#x7F6E;SelectPicPopupWindow&#x5F39;&#x51FA;&#x7A97;&#x4F53;&#x52A8;&#x753B;&#x6548;&#x679C;</span></div><div class="line">		<span class="comment">//this.setAnimationStyle(R.style.mystyle);</span></div><div class="line">		<span class="comment">// &#x5B9E;&#x4F8B;&#x5316;&#x4E00;&#x4E2A;ColorDrawable&#x989C;&#x8272;&#x4E3A;&#x534A;&#x900F;&#x660E;</span></div><div class="line">		ColorDrawable dw = <span class="keyword">new</span> ColorDrawable(<span class="number">0000000000</span>);</div><div class="line">		<span class="comment">// &#x8BBE;&#x7F6E;SelectPicPopupWindow&#x5F39;&#x51FA;&#x7A97;&#x4F53;&#x7684;&#x80CC;&#x666F;</span></div><div class="line">		<span class="keyword">this</span>.setBackgroundDrawable(dw);</div><div class="line">	}</div><div class="line"></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDeleteListener</span><span class="params">(ShopLeftPopupWindow.deleteListener deleteListener)</span> </span>{</div><div class="line">		<span class="keyword">this</span>.deleteListener = deleteListener;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUpListener</span><span class="params">(ShopLeftPopupWindow.upListener upListener)</span> </span>{</div><div class="line">		<span class="keyword">this</span>.upListener = upListener;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDoListener</span><span class="params">(dropAndOnListener doListener)</span> </span>{</div><div class="line">		<span class="keyword">this</span>.doListener = doListener;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="comment">//&#x4E0A;&#x67B6;&#x4E0B;&#x67B6;&#x63A5;&#x53E3;</span></div><div class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">interface</span>  <span class="title">dropAndOnListener</span> </span>{</div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doDrop</span><span class="params">()</span></span>;</div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doOn</span><span class="params">()</span></span>;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="comment">//&#x5220;&#x9664;&#x63A5;&#x53E3;</span></div><div class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">interface</span>  <span class="title">deleteListener</span> </span>{</div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doDelete</span><span class="params">()</span></span>;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="comment">//&#x7F6E;&#x9876;&#x63A5;&#x53E3;</span></div><div class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">interface</span>  <span class="title">upListener</span> </span>{</div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doUp</span><span class="params">()</span></span>;</div><div class="line">	}</div><div class="line"></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initAction</span><span class="params">()</span> </span>{</div><div class="line">		mEdit.setOnClickListener(<span class="keyword">new</span> OnClickListener() {</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{</div><div class="line">						dismiss();</div><div class="line">				}</div><div class="line">			}</div><div class="line">		});</div><div class="line"></div><div class="line">		mUp.setOnClickListener(<span class="keyword">new</span> OnClickListener() {</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{</div><div class="line">				upListener.doUp();</div><div class="line">				dismiss();</div><div class="line">			}</div><div class="line">		});</div><div class="line">		mDelete.setOnClickListener(<span class="keyword">new</span> OnClickListener() {</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{</div><div class="line">				deleteListener.doDelete();</div><div class="line">				dismiss();</div><div class="line">			}</div><div class="line">		});</div><div class="line">		mShare.setOnClickListener(<span class="keyword">new</span> OnClickListener() {</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{</div><div class="line">				dismiss();</div><div class="line">			}</div><div class="line">		});</div><div class="line">	}</div></pre></td></tr></table></figure>
<p><font size="4">&#x4ECE;&#x4E0A;&#x8FB9;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x51FA;,&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86;3&#x4E2A;&#x63A5;&#x53E3;,&#x5E76;&#x8BBE;&#x7F6E;&#x4E86;&#x76F8;&#x5E94;&#x7684;set&#x65B9;&#x6CD5;,&#x6700;&#x540E;&#x5728;&#x5BF9;&#x5E94;Button&#x7684;&#x70B9;&#x51FB;&#x76F4;&#x63A5;&#x4E2D;&#x8C03;&#x7528;&#x76F8;&#x5E94;&#x7684;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;,&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x628A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x62BD;&#x51FA;,&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x610F;&#x9700;&#x8981;&#x7528;&#x5230;&#x5F39;&#x51FA;&#x6846;&#x7684;Activity&#x4E2D;&#x5B9E;&#x73B0; .</font></p>
<p><font size="4">&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;&#x5728;Activity&#x4E2D;&#x7684;&#x5B9E;&#x73B0;:</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">ShopLeftPopupWindow mLifeHallWindow = <span class="keyword">new</span> ShopLeftPopupWindow(</div><div class="line">							(Activity) context,<span class="keyword">true</span>);</div><div class="line">					mLifeHallWindow.setOnDismissListener(<span class="keyword">new</span> PopupWindow.OnDismissListener() {</div><div class="line">						<span class="meta">@Override</span></div><div class="line">						<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDismiss</span><span class="params">()</span> </span>{</div><div class="line"></div><div class="line">						}</div><div class="line">					});</div><div class="line"></div><div class="line">					mLifeHallWindow.setDoListener(<span class="keyword">new</span> ShopLeftPopupWindow.dropAndOnListener() {</div><div class="line">						<span class="meta">@Override</span></div><div class="line">						<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doDrop</span><span class="params">()</span> </span>{</div><div class="line"></div><div class="line">						}</div><div class="line"></div><div class="line">						<span class="meta">@Override</span></div><div class="line">						<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doOn</span><span class="params">()</span> </span>{</div><div class="line"></div><div class="line">						}</div><div class="line">					});</div><div class="line">					mLifeHallWindow.setUpListener(<span class="keyword">new</span> ShopLeftPopupWindow.upListener() {</div><div class="line">						<span class="meta">@Override</span></div><div class="line">						<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doUp</span><span class="params">()</span> </span>{</div><div class="line"></div><div class="line">						}</div><div class="line">					});</div><div class="line">					mLifeHallWindow.setDeleteListener(<span class="keyword">new</span> ShopLeftPopupWindow.deleteListener() {</div><div class="line"></div><div class="line">						<span class="meta">@Override</span></div><div class="line">						<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doDelete</span><span class="params">()</span> </span>{</div><div class="line"></div><div class="line">					});</div></pre></td></tr></table></figure>
<p><font size="4">&#x5F88;&#x7B80;&#x5355;&#x5427;,&#x53EF;&#x4EE5;&#x8BD5;&#x8BD5;.</font></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6CE8;&amp;#x660E;&amp;#x51FA;&amp;#x5904;:&lt;a href=&quot;http://leizh.net/&quot;&gt;http://leizh.net/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://qq451682583.github.io/categories/Android/"/>
    
    
      <category term="Android" scheme="http://qq451682583.github.io/tags/Android/"/>
    
      <category term="PopWindow" scheme="http://qq451682583.github.io/tags/PopWindow/"/>
    
  </entry>
  
  <entry>
    <title>GitHub+Hexo+Next开始你的博客之旅</title>
    <link href="http://qq451682583.github.io/2016/07/15/hexo%E7%AC%AC%E4%B8%80%E6%AD%A5/"/>
    <id>http://qq451682583.github.io/2016/07/15/hexo第一步/</id>
    <published>2016-07-15T04:16:21.000Z</published>
    <updated>2016-08-13T12:23:49.000Z</updated>
    
    <content type="html"><![CDATA[<p> <img src="http://ww4.sinaimg.cn/large/006cL6EBjw1f5z9r5crsqj30ys0hujts.jpg" alt=""><br><a id="more"></a></p>
<h2 id="&#x626F;&#x86CB;"><a href="#&#x626F;&#x86CB;" class="headerlink" title="&#x626F;&#x86CB;"></a><strong>&#x626F;&#x86CB;</strong></h2><hr>
<ul>
<li><font size="4">hexo&#x662F;&#x4E00;&#x6B3E;&#x57FA;&#x4E8E;Node.js&#x7684;&#x9759;&#x6001;&#x535A;&#x5BA2;&#x6846;&#x67B6;,<a href="https://github.com/hexojs/hexo" target="_blank" rel="external">hexo github&#x94FE;&#x63A5;</a><p></p></font></li>
<li><font size="4">&#x4F5C;&#x4E3A;&#x65B0;&#x65F6;&#x4EE3;&#x7684;&#x6709;&#x4E3A;&#x9752;&#x5E74;,&#x9AD8;&#x903C;&#x683C;&#x7684;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x5FC5;&#x987B;&#x662F;&#x6807;&#x914D;,&#x56E0;&#x6B64;&#x4E00;&#x6B3E;&#x7B80;&#x6D01;&#x5927;&#x65B9;,&#x4F7F;&#x7528;&#x65B9;&#x4FBF;,&#x66F4;&#x91CD;&#x8981;&#x7684;&#x662F;&#x514D;&#x8D39;&#x7684;&#x535A;&#x5BA2;&#x6846;&#x67B6;hexo&#x51FA;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x773C;&#x524D;</font></li>
</ul>
<h2 id="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;"><a href="#&#x51C6;&#x5907;&#x5DE5;&#x4F5C;" class="headerlink" title="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;"></a><strong>&#x51C6;&#x5907;&#x5DE5;&#x4F5C;</strong></h2><hr>
<ul>
<li><font size="4">GitHub&#x8D26;&#x53F7;(&#x5FC5;&#x987B;,&#x540E;&#x671F;&#x535A;&#x5BA2;&#x63D0;&#x4EA4;,hexo&#x90E8;&#x7F72;,&#x7F51;&#x7AD9;&#x6784;&#x5EFA;&#x90FD;&#x9700;&#x8981;&#x5173;&#x8054;git,SSH Key&#x6700;&#x597D;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x4E0A;,&#x8FD9;&#x6837;&#x5C31;&#x907F;&#x514D;&#x4E86;&#x4F60;&#x6BCF;&#x6B21;&#x63D0;&#x4EA4;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x9700;&#x8981;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;,<a href="http://blog.sina.com.cn/s/blog_6e572cd60101qls0.html" target="_blank" rel="external">&#x914D;&#x7F6E;&#x6559;&#x7A0B;</a>)<p></p></font></li>
<li><font size="4">&#x5B89;&#x8F6C;Node.js(&#x5FC5;&#x987B;,<a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js&#x5B98;&#x7F51;</a>&#x4E0B;&#x8F7D;&#x76F8;&#x5E94;&#x5E73;&#x53F0;&#x7684;&#x6700;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x7136;&#x540E;&#x4F60;&#x61C2;&#x5F97; next next next ~)<p></p></font></li>
<li><font size="4">&#x5B89;&#x88C5;Git(&#x5FC5;&#x987B;,&#x628A;&#x672C;&#x5730;&#x7684;hexo&#x5185;&#x5BB9;&#x63D0;&#x4EA4;&#x5230;github&#x4E0A;&#x53BB;.&#x5B89;&#x8F6C;&#x4E86;xcode&#x5C31;&#x81EA;&#x5E26;&#x4E86;git,&#x6CA1;&#x6709;&#x7684;&#x8BDD;appstore&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;xcode&#x6216;&#x8005;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;<a href="https://git-scm.com/download" target="_blank" rel="external">git</a>)<p></p></font></li>
<li><font size="4">Atom&#x7F16;&#x8F91;&#x5668;(&#x975E;&#x5FC5;&#x987B;),Atom&#x8C01;&#x7528;&#x8C01;&#x77E5;&#x9053;,&#x4E0D;&#x591A;&#x8BF4;.</font></li>
</ul>
<h2 id="&#x5F00;&#x59CB;&#x5B89;&#x8F6C;Hexo"><a href="#&#x5F00;&#x59CB;&#x5B89;&#x8F6C;Hexo" class="headerlink" title="&#x5F00;&#x59CB;&#x5B89;&#x8F6C;Hexo"></a><strong>&#x5F00;&#x59CB;&#x5B89;&#x8F6C;Hexo</strong></h2><hr>
<p> <font size="4">Node.js&#x548C;Git&#x90FD;&#x5B89;&#x88C5;&#x597D;&#x540E;,&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;,&#x5982;blog,&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;hexo&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x5939;,&#x7136;&#x540E;cd&#x8FDB;&#x5165;blog&#x76EE;&#x5F55;&#x91CC;&#x5B89;&#x88C5;Hexo&#x3002;</font></p>
<p> <font size="4">&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x5B89;&#x88C5;Hexo&#xFF1A;</font></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> cd &#x4F60;&#x7684;Hexo&#x5B89;&#x88C5;&#x76EE;&#x5F55;(blog) &#x6267;&#x884C;</div><div class="line"></div><div class="line">sudo npm install-g hexo</div></pre></td></tr></table></figure>
<p> <font size="4">&#x7136;&#x540E;&#x521D;&#x59CB;&#x5316;hexo,&#x547D;&#x4EE4;:</font></p>
<p> <code>hexo init</code></p>
<p> <font size="4">OK&#xFF0C;&#x81F3;&#x6B64;&#xFF0C;&#x5168;&#x90E8;&#x5B89;&#x88C5;&#x5DE5;&#x4F5C;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF01;blog&#x5C31;&#x662F;&#x4F60;&#x7684;&#x535A;&#x5BA2;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x5728;&#x91CC;&#x9762;&#x8FDB;&#x884C;.&#x4E4B;&#x540E;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x9700;&#x8981;cd &#x5230;&#x4F60;&#x7684;blog&#x76EE;&#x5F55;.</font></p>
<h2 id="&#x9759;&#x6001;&#x9875;&#x9762;"><a href="#&#x9759;&#x6001;&#x9875;&#x9762;" class="headerlink" title="&#x9759;&#x6001;&#x9875;&#x9762;"></a><strong>&#x9759;&#x6001;&#x9875;&#x9762;</strong></h2><hr>
<p> <font size="4">&#x4E0A;&#x4E00;&#x6B65;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x4E86;hexo,&#x751F;&#x6210;&#x4E86;blog.<p><br> &#x4E4B;&#x540E;&#x5728;blog&#x76EE;&#x5F55;,&#x627E;&#x5230;_config.yml&#x6587;&#x4EF6;,&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;,&#x53EF;&#x4EE5;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x4FEE;&#x6539;&#x6211;&#x4EEC;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;.&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6559;&#x7A0B;&#x4E0D;&#x591A;&#x8BF4;<a href="https://hexo.io/docs/configuration.html" target="_blank" rel="external">&#x4F20;&#x9001;&#x95E8;</a>&#x82F1;&#x6587;&#x770B;&#x4E0D;&#x61C2;,&#x8BF7;&#x81EA;&#x884C;&#x767E;&#x5EA6;.</p>
<p> <font size="4">&#x4FEE;&#x6539;&#x7684;&#x5DEE;&#x4E0D;&#x591A;,&#x5C31;&#x53EF;&#x4EE5;&#x672C;&#x5730;&#x9884;&#x89C8;&#x4E0B;&#x6211;&#x4EEC;&#x7684;&#x7F51;&#x7AD9;&#x4E86;:</font></p>
<p> &#x751F;&#x6210;&#x9759;&#x6001;&#x9875;:</p>
<p> <code>hexo generate</code>(&#x7B80;&#x5199;hexo g)</p>
<p> &#x672C;&#x5730;&#x542F;&#x52A8;:</p>
<p> <code>hexo server</code>(&#x7B80;&#x5199;hexo s)</p>
<p> &#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;(localhost:4000),&#x9884;&#x89C8;&#x6211;&#x4EEC;&#x7684;&#x535A;&#x5BA2;&#x4E86;,&#x5982;&#x679C;&#x6253;&#x4E0D;&#x5F00;,&#x6709;&#x53EF;&#x80FD;&#x7AEF;&#x53E3;&#x88AB;&#x5360;&#x7528;&#x4E86;,&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x53F7;,&#x547D;&#x4EE4;&#x5982;&#x4E0B;:</p>
<p> <code>hexo s -p 4001</code>(&#x6839;&#x636E;&#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x6D4F;&#x89C8;&#x535A;&#x5BA2;)</p>
<h2 id="&#x90E8;&#x7F72;&#x5230;GitHub&#x4E0A;"><a href="#&#x90E8;&#x7F72;&#x5230;GitHub&#x4E0A;" class="headerlink" title="&#x90E8;&#x7F72;&#x5230;GitHub&#x4E0A;"></a><strong>&#x90E8;&#x7F72;&#x5230;GitHub&#x4E0A;</strong></h2><hr>
<p>&#x4E0A;&#x4E00;&#x6B65;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x672C;&#x5730;&#x9884;&#x89C8;&#x6211;&#x4EEC;&#x7684;blog&#x4E86;,&#x5F53;&#x7136;&#x672C;&#x5730;&#x770B;&#x5230;&#x662F;&#x8FDC;&#x8FDC;&#x4E0D;&#x591F;,&#x73B0;&#x5728;&#x5F00;&#x59CB;&#x5173;&#x8054;github&#x8BA9;&#x6211;&#x4EEC;&#x7684;blog&#x53EF;&#x4EE5;&#x5206;&#x4EAB;&#x7ED9;&#x66F4;&#x591A;&#x7684;&#x5C0F;&#x4F19;&#x4F34;.</p>
<h4 id="&#x5EFA;&#x7ACB;GitHub&#x4ED3;&#x5E93;"><a href="#&#x5EFA;&#x7ACB;GitHub&#x4ED3;&#x5E93;" class="headerlink" title="&#x5EFA;&#x7ACB;GitHub&#x4ED3;&#x5E93;"></a>&#x5EFA;&#x7ACB;GitHub&#x4ED3;&#x5E93;</h4><p>&#x8FDB;&#x5165;github&#x8D26;&#x53F7;,&#x521B;&#x5EFA;&#x4E0E;&#x4F60;&#x7528;&#x6237;&#x540D;&#x5BF9;&#x5E94;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x4ED3;&#x5E93;&#x540D;&#x5FC5;&#x987B;&#x4E3A;[your_user_name.github.io]&#xFF0C;&#x56FA;&#x5B9A;&#x5199;&#x6CD5;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;</p>
<p>&#x4E4B;&#x540E;&#x4FEE;&#x6539;&#x6211;&#x4EEC;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;_config.yml,&#x7FFB;&#x5230;&#x6700;&#x4E0B;&#x9762;,&#x589E;&#x52A0;github&#x914D;&#x7F6E;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line"></div><div class="line">     type: git</div><div class="line"></div><div class="line">     repo: &#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x4ED3;&#x5E93;&#x5730;&#x5740;(&#x914D;&#x7F6E;&#x4E86;SSH&#x7684;,&#x6B64;&#x5904;&#x5199;SSH&#x4ED3;&#x5E93;&#x5730;&#x5740;)</div><div class="line"></div><div class="line">     branch: master</div></pre></td></tr></table></figure>
<p>&#x7136;&#x540E;&#x6267;&#x884C;&#x547D;&#x4EE4;(&#x8BB0;&#x4F4F;&#x6240;&#x6709;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x5728;&#x4F60;&#x7684;blog&#x76EE;&#x5F55;&#x4E0B;)&#xFF1A;</p>
<p><code>npm install hexo-deployer-git --save</code></p>
<p>&#x6700;&#x540E;&#x6267;&#x884C;:</p>
<p><code>hexo deploy</code>(&#x535A;&#x5BA2;&#x90E8;&#x7F72;,&#x63D0;&#x4EA4;&#x5230;&#x4ED3;&#x5E93;)</p>
<p>&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;[your_user_name.github.io],&#x597D;&#x4E86;&#x8D76;&#x5FEB;&#x64B0;&#x5199;&#x6587;&#x7AE0;,&#x5206;&#x4EAB;&#x4F60;&#x7684;blog&#x5427;.</p>
<h2 id="Hexo&#x5E38;&#x7528;&#x547D;&#x4EE4;"><a href="#Hexo&#x5E38;&#x7528;&#x547D;&#x4EE4;" class="headerlink" title="Hexo&#x5E38;&#x7528;&#x547D;&#x4EE4;"></a><strong>Hexo&#x5E38;&#x7528;&#x547D;&#x4EE4;</strong></h2><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo new&quot;postName&quot; #&#x65B0;&#x5EFA;&#x6587;&#x7AE0;</div><div class="line"></div><div class="line">hexo new page&quot;pageName&quot; #&#x65B0;&#x5EFA;&#x9875;&#x9762;</div></pre></td></tr></table></figure>
<p><a href="https://segmentfault.com/a/1190000002632530" target="_blank" rel="external">&#x4F20;&#x9001;&#x95E8;</a></p>
<h2 id="Next&#x4E3B;&#x9898;"><a href="#Next&#x4E3B;&#x9898;" class="headerlink" title="Next&#x4E3B;&#x9898;"></a><strong>Next&#x4E3B;&#x9898;</strong></h2><hr>
<p>&#x7F51;&#x7AD9;&#x90E8;&#x7F72;&#x597D;&#x4E86;,&#x6CA1;&#x4E2A;&#x9AD8;&#x5927;&#x4E0A;&#x7684;&#x4E3B;&#x9898;&#x662F;&#x6211;&#x4EEC;&#x7EDD;&#x5BF9;&#x4E0D;&#x80FD;&#x5BB9;&#x5FCD;&#x7684;.&#x5982;&#x9898;Next&#x4E3B;&#x9898;&#x662F;&#x4F60;&#x7684;&#x4E0D;&#x4E8C;&#x4E4B;&#x9009;,<a href="https://qq451682583.github.io">&#x7EC8;&#x4E8E;&#x6709;&#x673A;&#x4F1A;&#x63A8;&#x5E7F;&#x4E86;,&#x9884;&#x89C8;</a></p>
<h4 id="&#x5B89;&#x88C5;Next&#x4E3B;&#x9898;"><a href="#&#x5B89;&#x88C5;Next&#x4E3B;&#x9898;" class="headerlink" title="&#x5B89;&#x88C5;Next&#x4E3B;&#x9898;"></a>&#x5B89;&#x88C5;Next&#x4E3B;&#x9898;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd your-hexo-site</div><div class="line">git clone https://github.com/iissnan/hexo-theme-next themes/next</div></pre></td></tr></table></figure>
<h4 id="&#x542F;&#x7528;&#x4E3B;&#x9898;"><a href="#&#x542F;&#x7528;&#x4E3B;&#x9898;" class="headerlink" title="&#x542F;&#x7528;&#x4E3B;&#x9898;"></a>&#x542F;&#x7528;&#x4E3B;&#x9898;</h4><p>&#x548C;&#x6240;&#x6709;&#x7684;&#x4E3B;&#x9898;&#x542F;&#x52A8;&#x4E00;&#x6837;,&#x6253;&#x5F00;_config.yml,&#x627E;&#x5230;theme&#x5B57;&#x6BB5;,&#x4FEE;&#x6539;&#x4E3A;next</p>
<p>&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;hexo g ,hexo s,localhost:4000&#x672C;&#x5730;&#x6D4F;&#x89C8;&#x4E00;&#x4E0B;</p>
<h4 id="&#x4E3B;&#x9898;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;"><a href="#&#x4E3B;&#x9898;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;" class="headerlink" title="&#x4E3B;&#x9898;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;"></a>&#x4E3B;&#x9898;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;</h4><p>&#x9009;&#x62E9; Scheme</p>
<p>Scheme &#x662F; NexT &#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x79CD;&#x7279;&#x6027;&#xFF0C;&#x501F;&#x52A9;&#x4E8E; Scheme&#xFF0C;NexT &#x4E3A;&#x4F60;&#x63D0;&#x4F9B;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5916;&#x89C2;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x90FD;&#x53EF;&#x4EE5; &#x5728; Scheme &#x4E4B;&#x95F4;&#x5171;&#x7528;&#x3002;&#x76EE;&#x524D; NexT &#x652F;&#x6301;&#x4E09;&#x79CD; Scheme&#xFF0C;&#x4ED6;&#x4EEC;&#x662F;&#xFF1A;</p>
<ul>
<li>Muse - &#x9ED8;&#x8BA4; Scheme&#xFF0C;&#x8FD9;&#x662F; NexT &#x6700;&#x521D;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x9ED1;&#x767D;&#x4E3B;&#x8C03;&#xFF0C;&#x5927;&#x91CF;&#x7559;&#x767D;<p></p></li>
<li>Mist - Muse &#x7684;&#x7D27;&#x51D1;&#x7248;&#x672C;&#xFF0C;&#x6574;&#x6D01;&#x6709;&#x5E8F;&#x7684;&#x5355;&#x680F;&#x5916;&#x89C2;<p></p></li>
<li>Pisces - &#x53CC;&#x680F; Scheme&#xFF0C;&#x5C0F;&#x5BB6;&#x78A7;&#x7389;&#x4F3C;&#x7684;&#x6E05;&#x65B0;<p></p></li>
<li>Scheme &#x7684;&#x5207;&#x6362;&#x901A;&#x8FC7;&#x66F4;&#x6539; &#x4E3B;&#x9898;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x641C;&#x7D22; scheme &#x5173;&#x952E;&#x5B57;&#x3002; &#x4F60;&#x4F1A;&#x770B;&#x5230;&#x6709;&#x4E09;&#x884C; scheme &#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x5C06;&#x4F60;&#x9700;&#x7528;&#x542F;&#x7528;&#x7684; scheme &#x524D;&#x9762;&#x6CE8;&#x91CA; # &#x5373;&#x53EF;</li>
</ul>
<p>&#x8FD9;&#x91CC;&#x6211;&#x542F;&#x7528;&#x7684;&#x662F;Mist</p>
<h4 id="Next&#x914D;&#x7F6E;&#x4FEE;&#x6539;"><a href="#Next&#x914D;&#x7F6E;&#x4FEE;&#x6539;" class="headerlink" title="Next&#x914D;&#x7F6E;&#x4FEE;&#x6539;"></a>Next&#x914D;&#x7F6E;&#x4FEE;&#x6539;</h4><ul>
<li>&#x4FA7;&#x8FB9;&#x680F;&#x5934;&#x50CF;  <code>avatar: /uploads/avatar.jpg(&#x4F60;&#x5934;&#x50CF;&#x7684;&#x8DEF;&#x5F84;)</code><p></p></li>
<li>&#x83DC;&#x5355;   <code>menu</code><p></p></li>
<li>&#x8BBE;&#x7F6E;&#x8BED;&#x8A00;  <code>language: zh-Hans</code><p></p></li>
<li>&#x4FEE;&#x6539;&#x80CC;&#x666F;&#x8272; next-&gt;source-&gt;css-&gt;_schemes(&#x542F;&#x7528;&#x54EA;&#x4E2A;&#x7C7B;&#x578B;&#x9009;&#x54EA;&#x4E2A;&#x6587;&#x4EF6;&#x5939;)-&gt;Mist-&gt;index.styl &#x6700;&#x4E0A;&#x8FB9;&#x7B2C;&#x4E00;&#x884C;&#x52A0;<code>body { background:url(/images/background.jpg)(&#x56FE;&#x7247;&#x8DEF;&#x5F84;,&#x6216;&#x8005;#ffffff&#x989C;&#x8272;);}</code><p></p></li>
<li>&#x7B49;&#x7B49;&#x4FEE;&#x6539;,&#x6211;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x4ECB;&#x7ECD;&#x4E86;,&#x9644;&#x4E00;&#x4E2A;<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">&#x5B98;&#x7F51;&#x6559;&#x7A0B;</a><p></p></li>
</ul>
</font></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; &lt;img src=&quot;http://ww4.sinaimg.cn/large/006cL6EBjw1f5z9r5crsqj30ys0hujts.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="这货不是博客" scheme="http://qq451682583.github.io/categories/%E8%BF%99%E8%B4%A7%E4%B8%8D%E6%98%AF%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo" scheme="http://qq451682583.github.io/tags/Hexo/"/>
    
      <category term="GitHub" scheme="http://qq451682583.github.io/tags/GitHub/"/>
    
      <category term="Next" scheme="http://qq451682583.github.io/tags/Next/"/>
    
      <category term="Atom" scheme="http://qq451682583.github.io/tags/Atom/"/>
    
  </entry>
  
</feed>
